> ğŸ˜*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ğŸ˜  
>  è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»OpenCVå›¾åƒåŸºæœ¬æ“ä½œã€‚  
>  **å­¦å…¶æ‰€ç”¨ï¼Œç”¨å…¶æ‰€å­¦ã€‚â€”â€”æ¢å¯è¶…**  
>  æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚  
>  å–œæ¬¢çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œä¸‹æ¬¡æ›´æ–°ä¸è¿·è·¯ğŸ¥

### ğŸ˜1. å›¾åƒè¯»å–ä¸æ˜¾ç¤º


å¸¸ç”¨çš„å‡ ä¸ªå‡½æ•°ï¼š



```cpp
imreadï¼šå›¾åƒè¯»å–ï¼ˆè·¯å¾„+å›¾åƒå±æ€§ï¼‰
imshowï¼šå›¾åƒæ˜¾ç¤ºï¼ˆçª—å£å+å›¾åƒå¯¹è±¡ï¼‰
namedWindowï¼šå®šä¹‰çª—å£å±æ€§ï¼ˆçª—å£å+çª—å£ç±»å‹ï¼‰

```

ç¤ºä¾‹ï¼š



```cpp
#include <opencv2/opencv.hpp>
#include <iostream>

using namespace cv;
using namespace std;

int main()
{
	//Mat src = imread("./data/test-fisheye.png",IMREAD\_GRAYSCALE); // ç°åº¦
	Mat src = imread("./data/test.png");	// å½©è‰²
	// åˆ¤æ–­å›¾åƒæ˜¯å¦å­˜åœ¨
	if (src.empty())
	{
		printf("could not load image!");
		return -1;
	}
	namedWindow("Display", WINDOW_FREERATIO);	// åˆ›å»ºçª—å£
	imshow("Display", src);	// æ˜¾ç¤º
	waitKey(0);	// ç­‰å¾…ä»»æ„æŒ‰é”®
	destroyAllWindows();	// é”€æ¯
	return 0;
}

```

### ğŸ˜Š2. å›¾åƒè‰²å½©ç©ºé—´è½¬æ¢


å¸¸ç”¨å‡½æ•°ï¼š



```cpp
cvtColorï¼šè‰²å½©ç©ºé—´è½¬æ¢å‡½æ•°ï¼ˆç°åº¦ã€å½©è‰²ã€HSVï¼‰
imwriteï¼šå›¾åƒä¿å­˜å‡½æ•°ï¼ˆä¿å­˜è·¯å¾„ï¼Œå›¾åƒå¯¹è±¡ï¼‰

```

ç¤ºä¾‹ï¼š



```cpp
#include <opencv2/opencv.hpp>
#include <iostream>

using namespace cv;
using namespace std;

void colorSpace\_Demo(Mat &image);

int main()
{
	//Mat src = imread("./data/test-fisheye.png",IMREAD\_GRAYSCALE);
	Mat src = imread("./data/test.png");
	// åˆ¤æ–­å›¾åƒæ˜¯å¦å­˜åœ¨
	if (src.empty())
	{
		printf("could not load image!");
		return -1;
	}
	//namedWindow("Display", WINDOW\_FREERATIO);
	imshow("Display", src);
	colorSpace\_Demo(src);	//è½¬æ¢hsvå’Œgray
	waitKey(0);
	destroyAllWindows();
	return 0;
}

void colorSpace\_Demo(Mat &image) 
{
	Mat gray, hsv;
	cvtColor(image, hsv, COLOR_BGR2HSV);	//H 0~180ï¼ŒS V 0~255 é¢œè‰²å’Œäº®åº¦
	cvtColor(image, gray, COLOR_BGR2GRAY);
	imshow("HSV", hsv);
	imshow("GRAY", gray);
	imwrite("./hsv.png", hsv);
	imwrite("./gray.png", gray);
}

```

### ğŸ˜†3. åˆ›å»ºç©ºç™½å›¾åƒå¹¶èµ‹å€¼


å¸¸ç”¨å‡½æ•°ï¼š



```cpp
Mat::zerosï¼šç©ºç™½å›¾åƒï¼ˆå¤§å°+é€šé“æ•°ï¼‰
Scalarï¼šèµ‹å€¼ï¼ˆBGRï¼‰

```

ç¤ºä¾‹ï¼š



```cpp
#include <opencv2/opencv.hpp>
#include <iostream>

using namespace cv;
using namespace std;

void mat\_creation\_demo() ;

int main()
{
	mat\_creation\_demo();
	waitKey(0);
	destroyAllWindows();
	return 0;
}

void mat\_creation\_demo() 
{
	//void mat\_creation\_demo(Mat &image) 
	//Mat m1, m2;
	//m1 = image.clone(); //æ‹·è´1
	//image.copyTo(m2); //æ‹·è´2

	// åˆ›å»ºç©ºç™½å›¾åƒ
	Mat m3 = Mat::zeros(Size(400,400), CV_8UC3);	//8uc1æ— ç¬¦å·8ä½ï¼Œé€šé“1
	m3 = Scalar(255, 0, 0);	// èµ‹å€¼ B G R
	std::cout << m3 << std::endl;
	imshow("m3å›¾åƒ", m3);	//ä»¥ä¸Šå°±åˆ›å»ºäº†ä¸€ä¸ªçº¯è“è‰²å›¾åƒ
}

```

### ğŸ˜†4. è§†é¢‘è¯»å–ä¸å†™å…¥ç¤ºä¾‹



```cpp
#include <opencv2/opencv.hpp>

using namespace cv;

int main()
{
    // æ‰“å¼€è§†é¢‘æ–‡ä»¶
    VideoCapture capture("input.mkv");

    // æ£€æŸ¥è§†é¢‘æ˜¯å¦æˆåŠŸæ‰“å¼€
    if (!capture.isOpened())
    {
        std::cout << "æ— æ³•æ‰“å¼€è¾“å…¥è§†é¢‘æ–‡ä»¶ï¼" << std::endl;
        return -1;
    }

    // è·å–è§†é¢‘çš„å¸§ç‡ã€å®½åº¦å’Œé«˜åº¦
    double fps = capture.get(CAP_PROP_FPS);
    int width = capture.get(CAP_PROP_FRAME_WIDTH);
    int height = capture.get(CAP_PROP_FRAME_HEIGHT);

    // åˆ›å»ºè¾“å‡ºè§†é¢‘æ–‡ä»¶
    VideoWriter writer("output.mp4", VideoWriter::fourcc('M', 'J', 'P', 'G'), fps, Size(width, height));

    // æ£€æŸ¥è§†é¢‘æ–‡ä»¶æ˜¯å¦æˆåŠŸåˆ›å»º
    if (!writer.isOpened())
    {
        std::cout << "æ— æ³•åˆ›å»ºè¾“å‡ºè§†é¢‘æ–‡ä»¶ï¼" << std::endl;
        return -1;
    }

    // è¯»å–å’Œå†™å…¥æ¯ä¸€å¸§
    Mat frame;
    while (capture.read(frame))
    {
        // åœ¨æ¯ä¸€å¸§ä¸Šè¿›è¡Œå›¾åƒå¤„ç†æ“ä½œ
        // è¿™é‡Œçœç•¥äº†å›¾åƒå¤„ç†éƒ¨åˆ†ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ 

        // å†™å…¥å¤„ç†åçš„å¸§åˆ°è¾“å‡ºè§†é¢‘æ–‡ä»¶
        writer.write(frame);

        // æ˜¾ç¤ºå½“å‰å¸§
        imshow("Video", frame);
        if (waitKey(30) == 'q')
            break;
    }

    // é‡Šæ”¾èµ„æº
    capture.release();
    writer.release();

    return 0;
}

```

è¿™é‡Œä½¿ç”¨`VideoCapture`ç±»æ‰“å¼€è¾“å…¥è§†é¢‘æ–‡ä»¶ï¼Œä½¿ç”¨`VideoWriter`ç±»åˆ›å»ºè¾“å‡ºè§†é¢‘æ–‡ä»¶ï¼ˆç”šè‡³å¯ä»¥è¿›è¡Œæ ¼å¼è½¬æ¢ï¼‰ã€‚


![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/dc8ead62cf914d77936a55051aebb148.png)


### ğŸ˜†5. YAMLè¯»å–ä¸å†™å…¥



```cpp
#include <opencv2/opencv.hpp>
#include <iostream>

using namespace cv;

int main()
{
    // åˆ›å»ºä¸€ä¸ªYAMLæ–‡ä»¶èŠ‚ç‚¹
    FileStorage fs("data.yaml", FileStorage::WRITE);

    // æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€
    if (!fs.isOpened())
    {
        std::cout << "æ— æ³•æ‰“å¼€æ•°æ®æ–‡ä»¶ï¼" << std::endl;
        return -1;
    }

    // å†™å…¥æ•°æ®åˆ°YAMLæ–‡ä»¶
    int intValue = 5;
    float floatValue = 3.14;
    std::string stringValue = "Hello, World!";
    fs << "intValue" << intValue;
    fs << "floatValue" << floatValue;
    fs << "stringValue" << stringValue;

    // å…³é—­YAMLæ–‡ä»¶
    fs.release();

    // é‡æ–°æ‰“å¼€YAMLæ–‡ä»¶è¿›è¡Œè¯»å–
    FileStorage fs2("data.yaml", FileStorage::READ);

    // æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€
    if (!fs2.isOpened())
    {
        std::cout << "æ— æ³•æ‰“å¼€æ•°æ®æ–‡ä»¶ï¼" << std::endl;
        return -1;
    }

    // è¯»å–æ•°æ®ä»YAMLæ–‡ä»¶
    int readIntValue;
    float readFloatValue;
    std::string readStringValue;
    fs2["intValue"] >> readIntValue;
    fs2["floatValue"] >> readFloatValue;
    fs2["stringValue"] >> readStringValue;

    // è¾“å‡ºè¯»å–çš„æ•°æ®
    std::cout << "intValue: " << readIntValue << std::endl;
    std::cout << "floatValue: " << readFloatValue << std::endl;
    std::cout << "stringValue: " << readStringValue << std::endl;

    // å…³é—­YAMLæ–‡ä»¶
    fs2.release();

    return 0;
}

```

ç»“æœå¦‚ä¸‹ï¼š



```
%YAML:1.0
---
intValue: 5
floatValue: 3.1400001049041748e+00
stringValue: "Hello, World!"


```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6567c240f1b5443ab60e194d3ffe3803.png)


ä»¥ä¸Šã€‚





