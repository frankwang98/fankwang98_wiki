> ğŸ˜*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ğŸ˜  
>  è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»QMLä»‹ç»ä¸å…¥é—¨æ¡ˆä¾‹ã€‚  
>  **å­¦å…¶æ‰€ç”¨ï¼Œç”¨å…¶æ‰€å­¦ã€‚â€”â€”æ¢å¯è¶…**  
>  æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚  
>  å–œæ¬¢çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œä¸‹æ¬¡æ›´æ–°ä¸è¿·è·¯ğŸ¥

### ğŸ˜1. Qt Quickä¸QMLä»‹ç»

`Qt Quick`æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç°ä»£ã€é«˜æ•ˆã€å¯æ‰©å±•ç”¨æˆ·ç•Œé¢çš„æ¡†æ¶ã€‚å®ƒæ˜¯Qtå¼€å‘æ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œæ—¨åœ¨é€šè¿‡å£°æ˜æ€§è¯­æ³•å’ŒJavaScriptç»‘å®šæ¥ç®€åŒ–ç”¨æˆ·ç•Œé¢çš„è®¾è®¡å’Œå®ç°ã€‚

Qt QuickåŸºäº`QMLï¼ˆQt Meta-Object Languageï¼‰`è¯­è¨€ï¼Œè¿™æ˜¯ä¸€ç§ç±»ä¼¼äºJSONçš„å£°æ˜æ€§è¯­è¨€ï¼Œç”¨äºæè¿°ç”¨æˆ·ç•Œé¢çš„ç»“æ„å’Œè¡Œä¸ºã€‚ä½¿ç”¨QMLï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ˜“äºç†è§£å’Œç¼–å†™çš„ä»£ç æ¥åˆ›å»ºç”¨æˆ·ç•Œé¢ï¼Œå¹¶é€šè¿‡ä½¿ç”¨å±æ€§ç»‘å®šå’Œä¿¡å·æ§½æœºåˆ¶æ¥å®ç°äº¤äº’é€»è¾‘ã€‚

ä»¥ä¸‹æ˜¯Qt Quickçš„ä¸€äº›å…³é”®ç‰¹ç‚¹ï¼š

> 1. å£°æ˜æ€§è¯­æ³•ï¼šQMLä½¿ç”¨ç±»ä¼¼äºCSSå’ŒJSONçš„è¯­æ³•ï¼Œä½¿å¾—ç”¨æˆ·ç•Œé¢çš„æè¿°æ›´åŠ ç›´è§‚å’Œç®€æ´ã€‚æ‚¨å¯ä»¥å£°æ˜å¯¹è±¡ã€å±æ€§ã€ä¿¡å·å’Œæ§½ï¼Œä»¥åŠå®šä¹‰åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœã€‚

> 2. ç»„ä»¶åŒ–å’Œé‡ç”¨ï¼šQt Quické¼“åŠ±å°†ç”¨æˆ·ç•Œé¢æ‹†åˆ†ä¸ºå¯é‡ç”¨çš„ç»„ä»¶ã€‚è¿™æ ·å¯ä»¥æé«˜å¼€å‘æ•ˆç‡ï¼Œå¹¶ä¿ƒè¿›ç•Œé¢å…ƒç´ çš„ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

> 3. å±æ€§ç»‘å®šï¼šé€šè¿‡å±æ€§ç»‘å®šï¼Œæ‚¨å¯ä»¥åœ¨QMLä¸­å£°æ˜å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚å½“ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç»‘å®šçš„å¯¹è±¡ä¼šè‡ªåŠ¨æ›´æ–°å…¶ç›¸å…³å±æ€§ï¼Œä»è€Œç®€åŒ–äº†æ‰‹åŠ¨å¤„ç†ç•Œé¢å…ƒç´ ä¹‹é—´çš„åŒæ­¥é—®é¢˜ã€‚

> 4. åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœï¼šQt Quickæä¾›äº†å†…ç½®çš„åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœæ”¯æŒï¼Œä½¿å¾—åˆ›å»ºå¹³æ»‘çš„ç”¨æˆ·ç•Œé¢åŠ¨ç”»å˜å¾—å®¹æ˜“ã€‚æ‚¨å¯ä»¥ä½¿ç”¨åŠ¨ç”»æ¥æ”¹å˜å±æ€§å€¼ã€ç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾å’Œæ·¡å…¥æ·¡å‡ºç­‰ã€‚
 
> 5. å¯æ‰©å±•æ€§ï¼šQt Quickæ˜¯å¯æ‰©å±•çš„ï¼Œå…è®¸æ‚¨æ ¹æ®éœ€è¦ç¼–å†™è‡ªå®šä¹‰çš„QMLç»„ä»¶å’Œæ’ä»¶ã€‚è¿™æ ·å¯ä»¥è½»æ¾åœ°æ‰©å±•Qt Quickæ¡†æ¶ï¼Œå¹¶ä¸å…¶ä»–Qtæ¨¡å—ï¼ˆå¦‚C++éƒ¨åˆ†ï¼‰è¿›è¡Œäº¤äº’ã€‚

Qt Quickæä¾›äº†ä¸°å¯Œçš„æ§ä»¶åº“å’Œå·¥å…·ï¼Œä»¥åŠå¼ºå¤§çš„åŠŸèƒ½æ¥å¤„ç†ç”¨æˆ·è¾“å…¥ã€å¸ƒå±€ç®¡ç†å’Œæ•°æ®æ¨¡å‹ã€‚å®ƒå¹¿æ³›åº”ç”¨äºè·¨å¹³å°å¼€å‘ï¼ŒåŒ…æ‹¬æ¡Œé¢åº”ç”¨ç¨‹åºã€ç§»åŠ¨åº”ç”¨ç¨‹åºä»¥åŠåµŒå…¥å¼è®¾å¤‡ä¸Šçš„å›¾å½¢ç•Œé¢ã€‚

### ğŸ˜Š2. QMLç¤ºä¾‹

ç¤ºä¾‹1ï¼š

```cpp
import QtQuick 2.9
import QtQuick.Window 2.2
import QtQuick.Controls 2.0

ApplicationWindow {
    visible: true
    width: 400
    height: 300
    title: "QML ç¤ºä¾‹"

    Column {
        spacing: 10
        anchors.centerIn: parent

        Button {
            text: "ç‚¹å‡»æˆ‘"
            onClicked: {
                label.text = "ä½ ç‚¹å‡»äº†æŒ‰é’®ï¼"
            }
        }

        Label {
            id: label
            text: "è¿™é‡Œå°†æ˜¾ç¤ºæŒ‰é’®ç‚¹å‡»çš„ç»“æœ"
        }
    }
}

```

ç¤ºä¾‹2ï¼š

```cpp
import QtQuick 2.9  //å‘ä¸‹å…¼å®¹åˆ°5.9
import QtQuick.Window 2.2   //é¡¶çº§çª—å£

/* QMLæ–‡æ¡£å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªQMLå¯¹è±¡æ ‘,è¿™é‡Œåˆ›å»ºäº†Windowæ ¹å¯¹è±¡
å’Œå®ƒçš„å­å¯¹è±¡Text */
Window {
    visible: true
    width: 800
    height: 600
    title: qsTr("Hello World")  //windowå¯¹è±¡

    Text {
        id: text1
        text: qsTr("hello QML!")
        anchors.centerIn: parent    //å±…ä¸­å¸ƒå±€ï¼ˆanchorsï¼‰
        //ç¾åŒ–å­—ä½“
        font.bold: true
        font { pointSize: 14; capitalization: Font.AllUppercase }

        Behavior on rotation {
            NumberAnimation { duration: 500 }
        }
    }   //textå¯¹è±¡

    Rectangle {
        id: colorRect
        width: 20 * 2
        height: width   //å±æ€§ç»‘å®š
        radius: 20
        border.color: "green"

        anchors.left: text1.right   //ç»¿è‰²åœ†å½¢anchoråœ¨æ–‡æœ¬å³ä¾§
        anchors.leftMargin: 10  //å·¦ä¾§è¾¹è·10
        anchors.verticalCenter: text1.verticalCenter    //å‚ç›´å±…ä¸­

        MouseArea {
            anchors.fill: parent
            onClicked: {
                console.debug("colorRect: ", parent.border.color)   //ç»ˆç«¯è¾“å‡ºé¢œè‰²ç¼–ç 
                text1.rotation += 360   //æ—‹è½¬äº‹ä»¶ï¼ˆç‚¹å‡»ç»¿è‰²åœ†ç¯ï¼Œæ—‹è½¬360ï¼‰
                text1.color = parent.border.color
                backImg.source = "images/liding2R.png"   //åˆ‡æ¢èƒŒæ™¯
            }
            //å®ç°åœ†å½¢äº¤äº’ç‰¹æ•ˆ
            hoverEnabled: true
            onEntered: {
                parent.width = 32
                parent.color = "black"
            }
            onExited: {
                parent.width = 40
                parent.color = "white"
            }
        }   //mouseé¼ æ ‡å¯¹è±¡ï¼ˆäº¤äº’ï¼‰

        Rectangle {
            width: 12 * 2
            height: width
            radius: 12
            color: parent.border.color
            anchors.centerIn: parent
        }   //ç”Ÿæˆç»¿è‰²åœ†ç¯
    }   //rectangleå¯¹è±¡

    Image {
        id: backImg
        source: "images/liding2sizeT.png"  //è·¯å¾„
        width: parent.width //å¤§å°
        anchors.bottom: parent.bottom
        fillMode: Image.PreserveAspectFit   //å¡«å……æ¨¡å¼
    }   //imageså¯¹è±¡
}

```

### ğŸ˜†3. QMLä¸C++äº¤äº’ç¤ºä¾‹

åˆ›å»ºä¸€ä¸ªç©ºçš„Qt Quickç¨‹åºã€‚

main.cpp

```cpp
#include <QGuiApplication>
#include <QQmlApplicationEngine>
#include <QQmlContext>
#include <QObject>
#include <QDebug>

class MyObject : public QObject
{
    Q_OBJECT

public:
    Q_INVOKABLE QString message() const {
        return m_message;
    }

public slots:
    void sayHello() {
        m_message = "Hello from C++!";
        qDebug() << m_message; // ç»ˆç«¯ä¸­æ‰“å°
        emit messageChanged();
    }

signals:
    void messageChanged();

private:
    QString m_message;
};

int main(int argc, char *argv[])
{
    QGuiApplication app(argc, argv);

    QQmlApplicationEngine engine;

    MyObject myObject;
    engine.rootContext()->setContextProperty("myObject", &myObject);

    const QUrl url(QStringLiteral("qrc:/main.qml"));
    QObject::connect(&engine, &QQmlApplicationEngine::objectCreated,
                     &app, [url](QObject *obj, const QUrl &objUrl) {
        if (!obj && url == objUrl)
            QCoreApplication::exit(-1);
    }, Qt::QueuedConnection);
    engine.load(url);

    return app.exec();
}

#include "main.moc"

```

main.qml

```cpp
import QtQuick 2.2
import QtQuick.Controls 2.2

ApplicationWindow {
    visible: true
    width: 400
    height: 300
    title: "QML and C++ Interaction"

    Button {
        text: "Click Me"
        onClicked: {
            myObject.sayHello(); // è°ƒç”¨C++å¯¹è±¡çš„å‡½æ•°
        }
    }

// Label {
// text: myObject.message // æ˜¾ç¤ºä»C++ä¼ é€’çš„æ¶ˆæ¯
// anchors.centerIn: parent
// }
}

```

ç”Ÿæˆæ•ˆæœå¦‚ä¸‹ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/4cb1faa79f894efd96a3ebd24c56ff02.png)

ä»¥ä¸Šã€‚