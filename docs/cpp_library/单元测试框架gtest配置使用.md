







> 
> ğŸ˜*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ğŸ˜  
>  è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»å•å…ƒæµ‹è¯•æ¡†æ¶gtesté…ç½®ä½¿ç”¨ã€‚  
>  **æ— ä¸“ç²¾åˆ™ä¸èƒ½æˆï¼Œæ— æ¶‰çŒåˆ™ä¸èƒ½é€šã€‚â€”â€”æ¢å¯è¶…**  
>  æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚  
>  å–œæ¬¢çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œä¸‹æ¬¡æ›´æ–°ä¸è¿·è·¯ğŸ¥
> 
> 
> 




#### æ–‡ç« ç›®å½•


* + [:smirk:1. é¡¹ç›®ä»‹ç»](#smirk1__7)
	+ [:blush:2. ç¯å¢ƒé…ç½®](#blush2__27)
	+ [:satisfied:3. ä½¿ç”¨è¯´æ˜](#satisfied3__36)




### ğŸ˜1. é¡¹ç›®ä»‹ç»


é¡¹ç›®Githubåœ°å€ï¼š`https://github.com/google/googletest.git`


`Google Test`ï¼ˆç®€ç§°ä¸º `gtest`ï¼‰æ˜¯ä¸€ä¸ªæµè¡Œçš„ C++ æµ‹è¯•æ¡†æ¶ï¼Œç”¨äºç¼–å†™å’Œæ‰§è¡Œå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’ŒåŠŸèƒ½æµ‹è¯•ã€‚å®ƒæ˜¯ Google å¼€å‘çš„å¼€æºé¡¹ç›®ï¼Œæ—¨åœ¨æä¾›ç®€å•ã€çµæ´»å’Œå¯æ‰©å±•çš„æµ‹è¯•è§£å†³æ–¹æ¡ˆã€‚ä»¥ä¸‹æ˜¯å¯¹ Google Test çš„ä¸€äº›é‡è¦ç‰¹ç‚¹å’ŒåŠŸèƒ½çš„ä»‹ç»ï¼š



> 
> 1.æ˜“äºå…¥é—¨å’Œä½¿ç”¨ï¼šGoogle Test æä¾›äº†ç®€æ´è€Œç›´è§‚çš„ APIï¼Œä½¿å¾—ç¼–å†™å’Œè¿è¡Œæµ‹è¯•ç”¨ä¾‹éå¸¸å®¹æ˜“ã€‚å®ƒéµå¾ª xUnit é£æ ¼çš„æµ‹è¯•æ¡†æ¶è®¾è®¡ï¼Œå¹¶æä¾›äº†ä¸°å¯Œçš„æ–­è¨€å®æ¥éªŒè¯é¢„æœŸç»“æœã€‚
> 
> 
> 



> 
> 2.æ”¯æŒå¤šç§æµ‹è¯•ç±»å‹ï¼šGoogle Test æ”¯æŒå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’ŒåŠŸèƒ½æµ‹è¯•ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥ç¼–å†™é’ˆå¯¹å‡½æ•°ã€ç±»ã€æ¨¡å—æˆ–æ•´ä¸ªåº”ç”¨ç¨‹åºçš„æµ‹è¯•ã€‚
> 
> 
> 



> 
> 3.å‚æ•°åŒ–æµ‹è¯•ï¼šGoogle Test å…è®¸ä½ ä½¿ç”¨å‚æ•°åŒ–æµ‹è¯•æ¥è¦†ç›–ä¸åŒçš„è¾“å…¥å’Œå‚æ•°ç»„åˆã€‚ä½ å¯ä»¥ä½¿ç”¨ TEST\_P å’Œ INSTANTIATE\_TEST\_SUITE\_P å®æ¥å®šä¹‰å’Œå®ä¾‹åŒ–å‚æ•°åŒ–æµ‹è¯•ã€‚
> 
> 
> 



> 
> 4.å›ºä»¶ï¼ˆFixtureï¼‰æ”¯æŒï¼šGoogle Test æ”¯æŒæµ‹è¯•å›ºä»¶çš„æ¦‚å¿µï¼Œå…è®¸ä½ åœ¨æµ‹è¯•ä¹‹å‰å’Œä¹‹åè®¾ç½®å’Œæ¸…ç†å…±äº«èµ„æºã€‚é€šè¿‡ä½¿ç”¨ TEST\_F å®å®šä¹‰æµ‹è¯•å›ºä»¶ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åœ¨å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ä¹‹é—´å…±äº«åˆå§‹åŒ–å’Œæ¸…ç†ä»£ç ã€‚
> 
> 
> 



> 
> 5.ä¸°å¯Œçš„æ–­è¨€ï¼šGoogle Test æä¾›äº†ä¸°å¯Œçš„æ–­è¨€å®æ¥éªŒè¯é¢„æœŸç»“æœã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ EXPECT\_EQ æ¥æ£€æŸ¥ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œæˆ–ä½¿ç”¨ EXPECT\_TRUE æ¥éªŒè¯æ¡ä»¶æ˜¯å¦ä¸ºçœŸã€‚
> 
> 
> 



> 
> 6.è¾“å‡ºè¯¦ç»†ä¿¡æ¯ï¼šGoogle Test åœ¨æµ‹è¯•è¿è¡Œè¿‡ç¨‹ä¸­ä¼šç”Ÿæˆè¯¦ç»†çš„è¾“å‡ºä¿¡æ¯ï¼ŒåŒ…æ‹¬æµ‹è¯•ç»“æœã€å¤±è´¥åŸå› å’Œé™„åŠ ä¿¡æ¯ç­‰ã€‚è¿™äº›ä¿¡æ¯æœ‰åŠ©äºè¯Šæ–­é—®é¢˜å’Œå¿«é€Ÿä¿®å¤é”™è¯¯ã€‚
> 
> 
> 



> 
> 7.å¯æ‰©å±•æ€§ï¼šGoogle Test å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ï¼Œå…è®¸ä½ ç¼–å†™è‡ªå®šä¹‰çš„æµ‹è¯•æ‰©å±•å’Œè¾…åŠ©å‡½æ•°ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦åˆ›å»ºè‡ªå·±çš„æ–­è¨€å®ã€æ‰“å°å‡½æ•°å’Œå‚æ•°ç”Ÿæˆå™¨ç­‰ã€‚
> 
> 
> 



> 
> 8.å¹³å°æ”¯æŒï¼šGoogle Test æ”¯æŒå¤šç§å¹³å°å’Œç¼–è¯‘å™¨ï¼ŒåŒ…æ‹¬ Windowsã€Linuxã€macOS å’Œå„ç§ C++ ç¼–è¯‘å™¨ã€‚
> 
> 
> 


### ğŸ˜Š2. ç¯å¢ƒé…ç½®


ä¸‹é¢è¿›è¡Œç¯å¢ƒé…ç½®ï¼š



```
# aptå®‰è£…
sudo apt install libgtest-dev
# ç¼–è¯‘è¿è¡Œ
g++ -o main main.cpp test.cpp -lgtest -lgtest\_main -pthread  && ./main

```

### ğŸ˜†3. ä½¿ç”¨è¯´æ˜


gtestä½¿ç”¨ç¤ºä¾‹ï¼ˆé€šè¿‡åˆ¤æ–­ç­‰äºEQã€å¯¹é”™TRUEæ¥è¾“å‡ºå•å…ƒæµ‹è¯•ç»“æœï¼‰ï¼š



```
// test.h
#ifndef MATH\_UTILS\_H
#define MATH\_UTILS\_H

int Add(int a, int b);
int Subtract(int a, int b);
bool IsPrime(int number);

#endif // MATH\_UTILS\_H

```


```
// test.cpp
#include "test.h"

int Add(int a, int b) {
  return a + b;
}

int Subtract(int a, int b) {
  return a - b;
}

bool IsPrime(int number) {
  if (number < 2) {
    return false;
  }
  for (int i = 2; i <= number / 2; ++i) {
    if (number % i == 0) {
      return false;
    }
  }
  return true;
}

```


```
// main.cpp
#include "gtest/gtest.h"
#include "test.h"

// æµ‹è¯• Add() å‡½æ•°
TEST(MathUtilsTest, AddTest) {
  EXPECT\_EQ(4, Add(2, 2));
  EXPECT\_EQ(-1, Add(2, -3));
  EXPECT\_EQ(10, Add(5, 5));
}

// æµ‹è¯• Subtract() å‡½æ•°
TEST(MathUtilsTest, SubtractTest) {
  EXPECT\_EQ(2, Subtract(5, 3));
  EXPECT\_EQ(-5, Subtract(0, 5));
  EXPECT\_EQ(0, Subtract(10, 10));
}

// æµ‹è¯• IsPrime() å‡½æ•°
TEST(MathUtilsTest, IsPrimeTest) {
  EXPECT\_TRUE(IsPrime(2));
  EXPECT\_TRUE(IsPrime(3));
  EXPECT\_FALSE(IsPrime(4));
  EXPECT\_TRUE(IsPrime(5));
  EXPECT\_FALSE(IsPrime(6));
  EXPECT\_TRUE(IsPrime(7));
}

int main(int argc, char\*\* argv) {
  testing::InitGoogleTest(&argc, argv);
  /\* ç”¨TESTå®å®šä¹‰æµ‹è¯•ç”¨ä¾‹ï¼ŒéªŒè¯å‡½æ•°çš„è¡Œä¸ºå’Œç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ \*/
  return RUN\_ALL\_TESTS();
}

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6cbcd6c17cec4dba9bb3c0f895f02fa2.png)


ä»¥ä¸Šã€‚





