







> 
> ğŸ˜*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ğŸ˜  
>  è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»cereså’Œg2oéçº¿æ€§ä¼˜åŒ–åº“é…ç½®ä½¿ç”¨ã€‚  
>  **æ— ä¸“ç²¾åˆ™ä¸èƒ½æˆï¼Œæ— æ¶‰çŒåˆ™ä¸èƒ½é€šã€‚â€”â€”æ¢å¯è¶…**  
>  æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚  
>  å–œæ¬¢çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œä¸‹æ¬¡æ›´æ–°ä¸è¿·è·¯ğŸ¥
> 
> 
> 




#### æ–‡ç« ç›®å½•


* + [:smirk:1. é¡¹ç›®ä»‹ç»](#smirk1__7)
	+ [:blush:2. ç¯å¢ƒé…ç½®](#blush2__32)
	+ [:satisfied:3. ä½¿ç”¨è¯´æ˜](#satisfied3__60)




### ğŸ˜1. é¡¹ç›®ä»‹ç»


`ceres`é¡¹ç›®Githubåœ°å€ï¼š`https://github.com/ceres-solver/ceres-solver`


`g2o`é¡¹ç›®Githubåœ°å€ï¼š`https://github.com/RainerKuemmerle/g2o`


Ceres Solverå’Œg2oéƒ½æ˜¯ç”¨äºæ±‚è§£éçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜çš„C++åº“ï¼Œä¸»è¦ç”¨äºå›¾ä¼˜åŒ–ç­‰é¢†åŸŸã€‚å®ƒä»¬æœ‰ä¸€äº›å…±åŒç‚¹ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›åŒºåˆ«ã€‚


Ceres Solverï¼š


* Ceres Solveræ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„C++åº“ï¼Œä¸“é—¨ç”¨äºæ±‚è§£å¤§è§„æ¨¡ç¨€ç–å’Œç¨ å¯†éçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜ã€‚
* å®ƒæ”¯æŒå„ç§ç±»å‹çš„è¯¯å·®å‡½æ•°ï¼Œå¦‚å…‰æŸæ³•å¹³å·®ã€éçº¿æ€§å›å½’ã€SLAMã€è§†è§‰å®šä½ç­‰ã€‚
* Ceres Solveræä¾›äº†å¤šç§ä¼˜åŒ–ç®—æ³•ï¼ŒåŒ…æ‹¬LMï¼ˆLevenberg-Marquardtï¼‰ã€GNï¼ˆGauss-Newtonï¼‰ç­‰ï¼Œå¹¶ä¸”å¯æ ¹æ®é—®é¢˜ç‰¹ç‚¹è¿›è¡Œè‡ªå®šä¹‰ä¼˜åŒ–ç­–ç•¥ã€‚
* å®ƒå…·æœ‰çµæ´»çš„æ¥å£å’Œæ ‡å‡†åŒ–çš„é—®é¢˜è¡¨ç¤ºæ–¹å¼ï¼Œå¯ä»¥è½»æ¾åœ°ä¸å…¶ä»–åº“è¿›è¡Œé›†æˆã€‚
* Ceres Solveræ”¯æŒè‡ªåŠ¨æ±‚å¯¼ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ç”¨æˆ·æä¾›çš„è¯¯å·®å‡½æ•°çš„è§£ææ¢¯åº¦æˆ–æ•°å€¼å¾®åˆ†æ¥è®¡ç®—å¯¼æ•°ã€‚
* Ceres Solveræ˜¯å¼€æºçš„ï¼Œéµå¾ªBSDè®¸å¯è¯ã€‚


g2oï¼š


* g2oæ˜¯ä¸€ä¸ªé€šç”¨çš„C++åº“ï¼Œç”¨äºæ±‚è§£å›¾ä¼˜åŒ–é—®é¢˜ï¼Œä¾‹å¦‚è§†è§‰SLAMã€3Dé‡å»ºã€æœºå™¨äººè¿åŠ¨ä¼°è®¡ç­‰ã€‚
* g2oæ”¯æŒç¨€ç–çŸ©é˜µå’Œæ»¤æ³¢å™¨ç®—æ³•ï¼Œå¹¶æä¾›äº†çµæ´»çš„æ¥å£å’Œæ¨¡å—åŒ–è®¾è®¡ã€‚
* å®ƒæ”¯æŒå¤šç§é¡¶ç‚¹å’Œè¾¹ç±»å‹ï¼Œå¹¶å…è®¸ç”¨æˆ·è‡ªå®šä¹‰é¡¶ç‚¹ã€è¾¹ç±»å‹å’Œä¼˜åŒ–ç­–ç•¥ã€‚
* g2oæä¾›äº†å¤šç§ä¼˜åŒ–ç®—æ³•ï¼Œå¦‚GNï¼ˆGauss-Newtonï¼‰ã€LMï¼ˆLevenberg-Marquardtï¼‰ç­‰ã€‚
* g2oä¹Ÿæ˜¯å¼€æºçš„ï¼Œéµå¾ªBSDè®¸å¯è¯ã€‚


Ceres Solverå’Œg2oåœ¨SLAMã€æœºå™¨äººè¿åŠ¨ä¼°è®¡ç­‰é¢†åŸŸå¾—åˆ°äº†å¹¿æ³›åº”ç”¨ã€‚


### ğŸ˜Š2. ç¯å¢ƒé…ç½®


ä¸‹é¢è¿›è¡Œç¯å¢ƒé…ç½®ï¼š


ceresï¼š



```
# å®‰è£…ä¾èµ–
sudo apt install cmake libgoogle-glog-dev libgflags-dev libatlas-base-dev libsuitesparse-dev -y
# ceres-1.14
wget ceres-solver.org/ceres-solver-1.14.0.tar.gz
tar -zxvf ceres-solver-1.14.0.tar.gz
cd ceres-solver-1.14.0
mkdir build && cd build
cmake .. && make
sudo make install

```

ç¼–è¯‘ï¼š`g++ -o main main.cpp -lceres -lglog && ./main`


g2oï¼š



```
# å®‰è£…ä¾èµ–
sudo apt-get install libeigen3-dev libsuitesparse-dev qt5-qmake libqglviewer-dev-qt5
git clone https://github.com/RainerKuemmerle/g2o.git
cd g2o
mkdir build && cd build
cmake .. && make
sudo make install

```

### ğŸ˜†3. ä½¿ç”¨è¯´æ˜


ä¸‹é¢è¿›è¡Œä½¿ç”¨åˆ†æï¼š


ceresï¼š


æ„å»ºä»£ä»·å‡½æ•°Cost\_Functorï¼š



```
// å®šä¹‰ä¸€ä¸ªå®ä¾‹åŒ–æ—¶æ‰çŸ¥é“çš„ç±»å‹T
template <typename T>

// è¿ç®—ç¬¦()çš„é‡è½½ï¼Œç”¨æ¥å¾—åˆ°æ®‹å·®fi
bool operator()(const T\* const x, T\* residual) const {
     residual[0] = T(10.0) - x[0];
     return true;
   }

```

æ„å»ºæœ€å°äºŒä¹˜é—®é¢˜problemï¼š



```
Problem problem;
CostFunction\* cost_function = new AutoDiffCostFunction<CostFunctor, 1, 1>(new CostFunctor);
problem.AddResidualBlock(cost_function, NULL, &x);

```

æ±‚è§£å™¨å‚æ•°é…ç½®Solverï¼š



```
Solver::Options options;
options.linear_solver_type = ceres::DENSE_QR;
options.minimizer_progress_to_stdout = true;
Solver::Summary summary;
Solve(options, &problem, &summary);
cout << summary.BriefReport() << "\n";//è¾“å‡ºä¼˜åŒ–çš„ç®€è¦ä¿¡æ¯

```

ç”¨Ceres Solveråº“è§£å†³ä¸€ä¸ªç®€å•çš„éçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜ç¤ºä¾‹ï¼š



```
#include <iostream>
#include <ceres/ceres.h>

// ä»£ä»·å‡½æ•°ç±»å®šä¹‰
struct CostFunctor {
  template <typename T>
  bool operator()(const T\* const x, T\* residual) const {
    // å®šä¹‰ç›®æ ‡å‡½æ•°ï¼šf(x) = 10 - x
    residual[0] = T(10.0) - x[0];
    return true;
  }
};

int main(int argc, char\*\* argv) {
  // åˆå§‹åŒ–é—®é¢˜
  ceres::Problem problem;

  // æ·»åŠ ä¸€ä¸ªæ®‹å·®å—
  double initial_x = 5.0;  // åˆå§‹å€¼
  ceres::CostFunction\* cost_function =
      new ceres::AutoDiffCostFunction<CostFunctor, 1, 1>(new CostFunctor);
  problem.AddResidualBlock(cost_function, nullptr, &initial_x);

  // é…ç½®æ±‚è§£å™¨é€‰é¡¹
  ceres::Solver::Options options;
  options.linear_solver_type = ceres::DENSE_QR;
  options.minimizer_progress_to_stdout = true;

  // æ±‚è§£é—®é¢˜
  ceres::Solver::Summary summary;
  ceres::Solve(options, &problem, &summary);

  // æ‰“å°ç»“æœ
  std::cout << summary.BriefReport() << "\n";
  std::cout << "Final x = " << initial_x << "\n";

  return 0;
}

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6cbcd6c17cec4dba9bb3c0f895f02fa2.png)


ä»¥ä¸Šã€‚





