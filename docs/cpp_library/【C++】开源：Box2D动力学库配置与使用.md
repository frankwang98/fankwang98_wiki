







> 
> ğŸ˜*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ğŸ˜  
>  è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»Box2DåŠ¨åŠ›å­¦åº“é…ç½®ä¸ä½¿ç”¨ã€‚  
>  **æ— ä¸“ç²¾åˆ™ä¸èƒ½æˆï¼Œæ— æ¶‰çŒåˆ™ä¸èƒ½é€šã€‚â€”â€”æ¢å¯è¶…**  
>  æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚  
>  å–œæ¬¢çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œä¸‹æ¬¡æ›´æ–°ä¸è¿·è·¯ğŸ¥
> 
> 
> 




#### æ–‡ç« ç›®å½•


* + [:smirk:1. é¡¹ç›®ä»‹ç»](#smirk1__7)
	+ [:blush:2. ç¯å¢ƒé…ç½®](#blush2__27)
	+ [:satisfied:3. ä½¿ç”¨è¯´æ˜](#satisfied3__54)




### ğŸ˜1. é¡¹ç›®ä»‹ç»


é¡¹ç›®Githubåœ°å€ï¼š`https://github.com/erincatto/box2d`


å®˜ç½‘ï¼š`https://box2d.org/documentation/index.html`


`Box2D` æ˜¯ä¸€ä¸ªå¼€æºçš„C++ç‰©ç†å¼•æ“ï¼Œç”¨äºæ¨¡æ‹Ÿå’Œæ¨¡æ‹ŸäºŒç»´ç‰©ç†ç³»ç»Ÿã€‚å®ƒæä¾›äº†ä¸€å¥—å¼ºå¤§çš„å·¥å…·å’ŒåŠŸèƒ½ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿåˆ›å»ºé€¼çœŸçš„ç‰©ç†æ•ˆæœå’Œäº¤äº’ã€‚


ä¸‹é¢æ˜¯ä¸€äº›å…³äº `Box2D` çš„ä»‹ç»ï¼š



> 
> 1.ç‰©ç†ä»¿çœŸï¼šBox2D å¯ä»¥å¤„ç†åˆšä½“çš„è¿åŠ¨ã€ç¢°æ’æ£€æµ‹å’Œç¢°æ’å“åº”ç­‰ç‰©ç†ä»¿çœŸä»»åŠ¡ã€‚å®ƒå…è®¸æ‚¨æ¨¡æ‹Ÿåˆšä½“çš„è¿åŠ¨ã€æ—‹è½¬ã€åŠ é€Ÿåº¦ä»¥åŠå—åŠ›å’ŒåŠ›çŸ©çš„å½±å“ã€‚
> 
> 
> 



> 
> 2.çº¦æŸå’Œå…³èŠ‚ï¼šBox2D æä¾›äº†å¤šç§çº¦æŸç±»å‹ï¼Œä¾‹å¦‚è·ç¦»çº¦æŸã€æ—‹è½¬çº¦æŸå’Œå¼¹ç°§çº¦æŸç­‰ã€‚è¿™äº›çº¦æŸå¯ä»¥è¢«ç”¨æ¥æ¨¡æ‹Ÿå„ç§ç‰©ä½“ä¹‹é—´çš„è¿æ¥å’Œäº’åŠ¨å…³ç³»ã€‚
> 
> 
> 



> 
> 3.å†²çªæ£€æµ‹ï¼šBox2D æä¾›äº†é«˜æ•ˆçš„ç¢°æ’æ£€æµ‹ç®—æ³•ï¼Œå¯ä»¥æ£€æµ‹ç‰©ä½“ä¹‹é—´çš„ç¢°æ’ï¼Œå¹¶è§¦å‘ç›¸åº”çš„ç¢°æ’äº‹ä»¶ã€‚è¿™ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿå®ç°çœŸå®çš„ç‰©ä½“äº¤äº’æ•ˆæœï¼Œå¦‚å¼¹çƒã€å †å ç‰©ä½“ç­‰ã€‚
> 
> 
> 



> 
> 4.å¤šè¾¹å½¢ç¢°æ’æ£€æµ‹ï¼šBox2D æ”¯æŒå¤šè¾¹å½¢å½¢çŠ¶çš„ç¢°æ’æ£€æµ‹å’Œå¤„ç†ï¼Œä½¿æ‚¨èƒ½å¤Ÿä½¿ç”¨å„ç§å½¢çŠ¶çš„ç‰©ä½“æ¥å»ºæ¨¡å’Œä»¿çœŸã€‚
> 
> 
> 



> 
> 5.ç”¨æˆ·äº¤äº’ï¼šBox2D å…è®¸å¼€å‘è€…é€šè¿‡é¼ æ ‡å’Œé”®ç›˜è¾“å…¥ä¸ç‰©ä½“è¿›è¡Œäº¤äº’ï¼Œå¹¶å¯ä»¥å®ç°æ‹–åŠ¨ã€æ—‹è½¬å’Œæ–½åŠ åŠ›ç­‰äº¤äº’æ“ä½œã€‚
> 
> 
> 



> 
> 6.è·¨å¹³å°æ”¯æŒï¼šBox2D å¯ä»¥åœ¨å¤šä¸ªå¹³å°ä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬ Windowsã€Macã€Linux å’Œç§»åŠ¨å¹³å°ï¼ˆAndroid å’Œ iOSï¼‰ç­‰ã€‚è¿™ä½¿å¾—å®ƒé€‚ç”¨äºå„ç§ä¸åŒçš„åº”ç”¨ç¨‹åºå’Œæ¸¸æˆã€‚
> 
> 
> 


### ğŸ˜Š2. ç¯å¢ƒé…ç½®


ä¸‹é¢è¿›è¡Œç¯å¢ƒé…ç½®ï¼š



```
# aptå®‰è£…
sudo apt install libbox2d-dev

```


```
# æºç ç¼–è¯‘
git clone https://github.com/erincatto/box2d.git
cd box2d
mkdir build && cd build
cmake ..
make
sudo make install

```

ç¼–è¯‘è¿è¡Œï¼š



```
# å¤´æ–‡ä»¶å¼•ç”¨
#include <Box2D/Box2D.h> # apt
#include <box2d/box2d.h> # æºç 
# ç¼–è¯‘
g++ -o main main.cpp -lBox2D && ./main # apt
g++ -o main main.cpp -lbox2d && ./main # æºç 

```

### ğŸ˜†3. ä½¿ç”¨è¯´æ˜


ç‰©ä½“é‡åŠ›æ‰è½ä»¿çœŸåˆ†æç¤ºä¾‹ï¼š



```
#include <iostream>
#include <Box2D/Box2D.h>

int main() {
    // åˆ›å»º Box2D ä¸–ç•Œ
    b2Vec2 gravity(0.0f, -10.0f);
    b2World world(gravity);

    // åˆ›å»ºåœ°é¢åˆšä½“
    b2BodyDef groundBodyDef;
    groundBodyDef.position.Set(0.0f, -10.0f);
    b2Body\* groundBody = world.CreateBody(&groundBodyDef);
    b2PolygonShape groundBox;
    groundBox.SetAsBox(50.0f, 10.0f);
    groundBody->CreateFixture(&groundBox, 0.0f);

    // åˆ›å»ºåŠ¨æ€åˆšä½“
    b2BodyDef bodyDef;
    bodyDef.type = b2_dynamicBody;
    bodyDef.position.Set(0.0f, 4.0f);
    b2Body\* body = world.CreateBody(&bodyDef);

    b2PolygonShape dynamicBox;
    dynamicBox.SetAsBox(1.0f, 1.0f); // dynamicBox

    b2FixtureDef fixtureDef;
    fixtureDef.shape = &dynamicBox;
    fixtureDef.density = 1.0f;
    fixtureDef.friction = 0.3f;
    body->CreateFixture(&fixtureDef); // fixtureDef

    // æ¨¡æ‹Ÿè¿åŠ¨ï¼ˆç›’å­æ‰è½åœ¨åœ°ä¸Šçš„è¿åŠ¨ï¼‰
    float timeStep = 1.0f / 60.0f;
    int32 velocityIterations = 6;
    int32 positionIterations = 2;
    for (int32\_t i = 0; i < 60; ++i) {
        world.Step(timeStep, velocityIterations, positionIterations);

        b2Vec2 position = body->GetPosition();
        float_t angle = body->GetAngle();

        std::cout << "ä½ç½®: (" << position.x << ", " << position.y << ")"
                  << " è§’åº¦: " << angle << std::endl;
    }

    return 0;
}

```

åˆšä½“çº¦æŸç¤ºä¾‹ï¼š



```
#include <iostream>
#include <Box2D/Box2D.h>

int main() {
    // åˆ›å»ºä¸–ç•Œå¯¹è±¡
    b2Vec2 gravity(0.0f, -9.81f);
    b2World world(gravity);

    // åˆ›å»ºä¸¤ä¸ªçŸ©å½¢åˆšä½“
    b2BodyDef bodyDef;
    bodyDef.type = b2_dynamicBody;

    b2PolygonShape boxShape;
    boxShape.SetAsBox(1.0f, 1.0f);

    b2FixtureDef fixtureDef;
    fixtureDef.shape = &boxShape;
    fixtureDef.density = 1.0f;
    fixtureDef.friction = 0.3f;

    // åˆšä½“1
    bodyDef.position.Set(-2.0f, 10.0f);
    b2Body\* body1 = world.CreateBody(&bodyDef);
    body1->CreateFixture(&fixtureDef);

    // åˆšä½“2
    bodyDef.position.Set(2.0f, 10.0f);
    b2Body\* body2 = world.CreateBody(&bodyDef);
    body2->CreateFixture(&fixtureDef);

    // åˆ›å»ºè·ç¦»å…³èŠ‚
    b2DistanceJointDef distanceJointDef;
    distanceJointDef.Initialize(body1, body2, body1->GetWorldCenter(), body2->GetWorldCenter());
    distanceJointDef.collideConnected = true;
    b2DistanceJoint\* distanceJoint = (b2DistanceJoint\*)world.CreateJoint(&distanceJointDef);

    // åˆ›å»ºæ—‹è½¬å…³èŠ‚
    b2RevoluteJointDef revoluteJointDef;
    revoluteJointDef.Initialize(body1, body2, body1->GetWorldCenter());
    b2RevoluteJoint\* revoluteJoint = (b2RevoluteJoint\*)world.CreateJoint(&revoluteJointDef);

    // åˆ›å»ºæ»‘åŠ¨å…³èŠ‚
    b2PrismaticJointDef prismaticJointDef;
    prismaticJointDef.Initialize(body1, body2, body1->GetWorldCenter(), b2Vec2(1.0f, 0.0f));
    b2PrismaticJoint\* prismaticJoint = (b2PrismaticJoint\*)world.CreateJoint(&prismaticJointDef);

    // æ¨¡æ‹Ÿä¸–ç•Œ
    for (int i = 0; i < 60; ++i) {
        world.Step(1.0f / 60.0f, 6, 2);
        b2Vec2 position1 = body1->GetPosition();
        b2Vec2 position2 = body2->GetPosition();
        float32 angle1 = body1->GetAngle();
        float32 angle2 = body2->GetAngle();
        std::cout << "Body1: x=" << position1.x << ", y=" << position1.y << ", angle=" << angle1 << std::endl;
        std::cout << "Body2: x=" << position2.x << ", y=" << position2.y << ", angle=" << angle2 << std::endl;
    }

    return 0;
}

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6cbcd6c17cec4dba9bb3c0f895f02fa2.png)


ä»¥ä¸Šã€‚





