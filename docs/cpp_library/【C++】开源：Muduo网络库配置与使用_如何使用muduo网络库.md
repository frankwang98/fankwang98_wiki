







> 
> ğŸ˜*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ğŸ˜  
>  è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»Muduoç½‘ç»œåº“é…ç½®ä¸ä½¿ç”¨ã€‚  
>  **æ— ä¸“ç²¾åˆ™ä¸èƒ½æˆï¼Œæ— æ¶‰çŒåˆ™ä¸èƒ½é€šã€‚â€”â€”æ¢å¯è¶…**  
>  æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚  
>  å–œæ¬¢çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œä¸‹æ¬¡æ›´æ–°ä¸è¿·è·¯ğŸ¥
> 
> 
> 




#### æ–‡ç« ç›®å½•


* + [:smirk:1. é¡¹ç›®ä»‹ç»](#smirk1__7)
	+ [:blush:2. ç¯å¢ƒé…ç½®](#blush2__31)
	+ [:satisfied:3. ä½¿ç”¨è¯´æ˜](#satisfied3__52)




### ğŸ˜1. é¡¹ç›®ä»‹ç»


é¡¹ç›®Githubåœ°å€ï¼š`https://github.com/chenshuo/muduo`


Muduo æ˜¯ä¸€ä¸ªåŸºäº C++11 çš„ç½‘ç»œåº“ï¼Œç”¨äºæ„å»ºé«˜æ€§èƒ½çš„å¤šçº¿ç¨‹æœåŠ¡å™¨å’Œåº”ç”¨ç¨‹åºã€‚å®ƒç”±é™ˆç¡•å¼€å‘ï¼Œå¹¶ä¸”è‡´åŠ›äºæä¾›ç®€å•ã€å¯é å’Œé«˜æ•ˆçš„ç½‘ç»œç¼–ç¨‹è§£å†³æ–¹æ¡ˆã€‚


ä»¥ä¸‹æ˜¯ Muduo çš„ä¸»è¦ç‰¹ç‚¹å’ŒåŠŸèƒ½ï¼š



> 
> 1.äº‹ä»¶é©±åŠ¨ï¼šMuduo ä½¿ç”¨äº‹ä»¶é©±åŠ¨çš„æ–¹å¼å¤„ç†ç½‘ç»œé€šä¿¡ï¼Œé€šè¿‡ç›‘å¬äº‹ä»¶å¹¶ç›¸åº”åœ°è°ƒç”¨ç›¸åº”çš„å›è°ƒå‡½æ•°æ¥å®ç°å¼‚æ­¥éé˜»å¡çš„ç½‘ç»œæ“ä½œã€‚
> 
> 
> 



> 
> 2.å¤šçº¿ç¨‹æ”¯æŒï¼šMuduo ä½¿ç”¨å¤šçº¿ç¨‹æ¨¡å‹ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºå¤šä¸ªçº¿ç¨‹æ¥å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå®ç°å¹¶å‘å¤„ç†ã€‚
> 
> 
> 



> 
> 3.é«˜æ€§èƒ½ï¼šMuduo ä½¿ç”¨äº†å¤šç§ä¼˜åŒ–æŠ€æœ¯ï¼Œå¦‚ä½¿ç”¨çº¿ç¨‹æ± ã€éé˜»å¡ I/O å’Œäº‹ä»¶åˆ†å‘ç­‰ï¼Œä»¥æé«˜æœåŠ¡å™¨çš„å¹¶å‘å¤„ç†èƒ½åŠ›å’Œå“åº”é€Ÿåº¦ã€‚
> 
> 
> 



> 
> 4.TCP/IP æ”¯æŒï¼šMuduo æä¾›äº†å¯¹ TCP/IP åè®®çš„æ”¯æŒï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚å®ƒæä¾›äº† TCP å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„ APIï¼Œä»¥åŠå¸¸ç”¨çš„ç½‘ç»œç¼–ç¨‹ç»„ä»¶ï¼Œå¦‚å¥—æ¥å­—ã€ç¼“å†²åŒºç­‰ã€‚
> 
> 
> 



> 
> 5.å®šæ—¶å™¨ï¼šMuduo æä¾›äº†å®šæ—¶å™¨åŠŸèƒ½ï¼Œå¯ä»¥ç”¨äºå¤„ç†å®šæ—¶ä»»åŠ¡ï¼Œæ‰§è¡Œå‘¨æœŸæ€§çš„æ“ä½œï¼Œæˆ–è€…å»¶è¿Ÿæ‰§è¡ŒæŸäº›ä»»åŠ¡ã€‚
> 
> 
> 



> 
> 6.å¼‚æ­¥æ—¥å¿—ï¼šMuduo å†…ç½®äº†é«˜æ€§èƒ½çš„å¼‚æ­¥æ—¥å¿—ç³»ç»Ÿï¼Œå¯ä»¥æ–¹ä¾¿åœ°è®°å½•æœåŠ¡å™¨è¿è¡Œè¿‡ç¨‹ä¸­çš„æ—¥å¿—ä¿¡æ¯ï¼Œå¸®åŠ©å¼€å‘è€…è¿›è¡Œè°ƒè¯•å’Œæ•…éšœæ’æŸ¥ã€‚
> 
> 
> 



> 
> 7.çº¿ç¨‹åŒæ­¥ï¼šMuduo æä¾›äº†ä¸€äº›çº¿ç¨‹åŒæ­¥çš„åŸè¯­ï¼Œå¦‚äº’æ–¥é”ã€æ¡ä»¶å˜é‡ç­‰ï¼Œç”¨äºä¿æŠ¤å…±äº«èµ„æºçš„è®¿é—®ã€‚
> 
> 
> 



> 
> 8.è·¨å¹³å°æ”¯æŒï¼šMuduo å¯ä»¥åœ¨å¤šä¸ªä¸»æµæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬ Linuxã€macOS å’Œ Windows ç­‰ã€‚
> 
> 
> 


Muduo çš„è®¾è®¡ç›®æ ‡æ˜¯æä¾›ç®€æ´è€Œé«˜æ•ˆçš„c++ç½‘ç»œç¼–ç¨‹æ¡†æ¶ï¼Œä½¿å¼€å‘è€…å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å®ç°ï¼Œè€Œæ— éœ€è¿‡å¤šå…³æ³¨åº•å±‚ç»†èŠ‚ã€‚å®ƒè¢«å¹¿æ³›åº”ç”¨äºæ„å»ºæœåŠ¡å™¨ç¨‹åºã€ç½‘ç»œåº”ç”¨å’Œåˆ†å¸ƒå¼ç³»ç»Ÿã€‚


### ğŸ˜Š2. ç¯å¢ƒé…ç½®


ä¸‹é¢è¿›è¡Œç¯å¢ƒé…ç½®ï¼š



```
# å®‰è£…ä¾èµ–é¡¹
sudo apt-get install -y g++ cmake libboost-all-dev
# æºç ç¼–è¯‘
git clone https://ghproxy.com/https://github.com/chenshuo/muduo.git
cd muduo
./build.sh
# å°†åº“å’Œå¤´æ–‡ä»¶æ·»åŠ åˆ°ç³»ç»Ÿç›®å½•
cd /build/release-install-cpp11/include
mv muduo/ /usr/include/
cd ../lib/
mv * /usr/local/lib/
# éªŒè¯å®‰è£…
find /usr/include/muduo 
# é—®é¢˜
Muduo ç›®å‰ä»…æ”¯æŒ Protobuf 2.6.x ç‰ˆæœ¬ï¼Œå¹¶ä¸ç›´æ¥æ”¯æŒ Protobuf 3

```

### ğŸ˜†3. ä½¿ç”¨è¯´æ˜


ä¸‹é¢è¿›è¡Œä½¿ç”¨åˆ†æï¼š


ä¸€ä¸ªç®€å•çš„ä¾‹å­-ç®€å• Echo æœåŠ¡å™¨ï¼š



```
#include <muduo/net/TcpServer.h>
#include <muduo/net/EventLoop.h>
#include <muduo/net/InetAddress.h>
#include <muduo/base/Logging.h>

using namespace muduo;
using namespace muduo::net;

void onConnection(const TcpConnectionPtr& conn)
{
    if (conn->connected())
    {
        LOG_INFO << "New connection: " << conn->peerAddress().toIpPort();
    }
    else
    {
        LOG_INFO << "Connection closed: " << conn->peerAddress().toIpPort();
    }
}

void onMessage(const TcpConnectionPtr& conn, Buffer\* buf, Timestamp time)
{
    std::string msg(buf->retrieveAllAsString());
    LOG_INFO << "Received " << msg.size() << " bytes from " << conn->peerAddress().toIpPort();
    conn->send(msg);
}

int main()
{
    LOG_INFO << "Server started.";

    EventLoop loop;
    InetAddress listenAddr(8888);
    TcpServer server(&loop, listenAddr, "EchoServer");

    server.setConnectionCallback(onConnection);
    server.setMessageCallback(onMessage);

    server.start();

    loop.loop();

    return 0;
}

```

ç¼–è¯‘è¿è¡Œï¼š



```
g++ -o server server.cpp -lmuduo\_net -lmuduo\_base -lpthread
./server

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6cbcd6c17cec4dba9bb3c0f895f02fa2.png)


ä»¥ä¸Šã€‚





