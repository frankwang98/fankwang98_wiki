







> 
> ğŸ˜*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ğŸ˜  
>  è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»libeväº‹ä»¶å¾ªç¯åº“é…ç½®ä½¿ç”¨ã€‚  
>  **æ— ä¸“ç²¾åˆ™ä¸èƒ½æˆï¼Œæ— æ¶‰çŒåˆ™ä¸èƒ½é€šã€‚â€”â€”æ¢å¯è¶…**  
>  æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚  
>  å–œæ¬¢çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œä¸‹æ¬¡æ›´æ–°ä¸è¿·è·¯ğŸ¥
> 
> 
> 




#### æ–‡ç« ç›®å½•


* + [:smirk:1. é¡¹ç›®ä»‹ç»](#smirk1__7)
	+ [:blush:2. ç¯å¢ƒé…ç½®](#blush2__25)
	+ [:satisfied:3. ä½¿ç”¨è¯´æ˜](#satisfied3__36)




### ğŸ˜1. é¡¹ç›®ä»‹ç»


é¡¹ç›®Githubåœ°å€ï¼š`https://github.com/enki/libev`


`libev` æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½äº‹ä»¶å¾ªç¯åº“ï¼Œç”¨äºå¤„ç†äº‹ä»¶é©±åŠ¨çš„ç¼–ç¨‹ã€‚å®ƒæä¾›äº†å¯¹ I/O äº‹ä»¶ã€å®šæ—¶å™¨äº‹ä»¶å’Œä¿¡å·äº‹ä»¶çš„å¤„ç†ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥ç¼–å†™é«˜æ•ˆã€å¯æ‰©å±•çš„äº‹ä»¶é©±åŠ¨ç¨‹åºã€‚


ä»¥ä¸‹æ˜¯ä¸€äº› `libev` çš„ä¸»è¦ç‰¹ç‚¹å’ŒåŠŸèƒ½ï¼š



> 
> 1.é«˜æ€§èƒ½ï¼šlibev é€šè¿‡ä½¿ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„é«˜æ•ˆäº‹ä»¶é€šçŸ¥æœºåˆ¶ï¼ˆå¦‚ epollã€kqueue ç­‰ï¼‰æ¥å®ç°äº‹ä»¶é©±åŠ¨ï¼Œä»¥è¾¾åˆ°é«˜æ€§èƒ½å’Œä½å»¶è¿Ÿçš„ç›®æ ‡ã€‚
> 
> 
> 



> 
> 2.å¤šå¹³å°æ”¯æŒï¼šlibev å¯ä»¥åœ¨å¤šä¸ªå¹³å°ä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬ç±» Unix ç³»ç»Ÿï¼ˆå¦‚ Linuxã€FreeBSDã€Mac OS X ç­‰ï¼‰å’Œ Windowsã€‚
> 
> 
> 



> 
> 3.å¤šç§äº‹ä»¶ç±»å‹æ”¯æŒï¼šlibev æ”¯æŒå¤šç§äº‹ä»¶ç±»å‹ï¼ŒåŒ…æ‹¬ I/O äº‹ä»¶ï¼ˆè¯»ã€å†™ï¼‰ã€å®šæ—¶å™¨äº‹ä»¶å’Œä¿¡å·äº‹ä»¶ã€‚å¼€å‘è€…å¯ä»¥æ ¹æ®éœ€è¦æ³¨å†Œå’Œå¤„ç†è¿™äº›äº‹ä»¶ã€‚
> 
> 
> 



> 
> 4.çµæ´»çš„äº‹ä»¶å¾ªç¯ï¼šlibev æä¾›äº†çµæ´»çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼Œå¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ä¸åŒçš„äº‹ä»¶å¾ªç¯ç±»å‹ï¼Œå¦‚é»˜è®¤äº‹ä»¶å¾ªç¯ã€æ— é˜»å¡äº‹ä»¶å¾ªç¯ã€ä¸€æ¬¡æ€§äº‹ä»¶å¾ªç¯ç­‰ã€‚
> 
> 
> 



> 
> 5.è½»é‡çº§å’Œæ˜“äºä½¿ç”¨ï¼šlibev æ˜¯ä¸€ä¸ªè½»é‡çº§çš„åº“ï¼Œä½¿ç”¨ç®€å•è€Œç›´è§‚ã€‚å®ƒæä¾›äº†æ¸…æ™°çš„ APIï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥å¿«é€Ÿä¸Šæ‰‹å¹¶ç¼–å†™äº‹ä»¶é©±åŠ¨çš„ç¨‹åºã€‚
> 
> 
> 



> 
> 6.å¯æ‰©å±•æ€§ï¼šlibev å…è®¸å¼€å‘è€…åˆ›å»ºå¤šä¸ªäº‹ä»¶å¾ªç¯ï¼Œå¹¶å°†ä¸åŒç±»å‹çš„äº‹ä»¶åˆ†é…åˆ°ä¸åŒçš„äº‹ä»¶å¾ªç¯ä¸­ï¼Œä»¥æé«˜ç¨‹åºçš„å¯æ‰©å±•æ€§å’Œå¹¶å‘æ€§ã€‚
> 
> 
> 


### ğŸ˜Š2. ç¯å¢ƒé…ç½®


ä¸‹é¢è¿›è¡Œç¯å¢ƒé…ç½®ï¼š



```
# aptå®‰è£…
sudo apt install libev-dev

# ç¼–è¯‘
g++ -o main main.cpp -lev

```

### ğŸ˜†3. ä½¿ç”¨è¯´æ˜


å®šæ—¶å™¨äº‹ä»¶ç¤ºä¾‹ï¼š



```
#include <iostream>
#include <ev.h>

// å®šæ—¶å™¨å›è°ƒå‡½æ•°
static void timerCallback(EV_P_ ev_timer\* timer, int revents) {
    std::cout << "Timer event occurred." << std::endl;

    // åœæ­¢äº‹ä»¶å¾ªç¯
    ev\_break(loop, EVBREAK_ALL);
}

int main() {
    // åˆ›å»ºäº‹ä»¶å¾ªç¯
    struct ev\_loop\* loop = ev\_default\_loop(0);

    // åˆ›å»ºå®šæ—¶å™¨
    ev_timer timer;

    // åˆå§‹åŒ–å®šæ—¶å™¨
    ev\_timer\_init(&timer, timerCallback, 2.0, 0.0);
    // å¯åŠ¨å®šæ—¶å™¨
    ev\_timer\_start(loop, &timer);

    // è¿›å…¥äº‹ä»¶å¾ªç¯
    ev\_run(loop, 0);

    // æ¸…ç†äº‹ä»¶å¾ªç¯èµ„æº
    ev\_timer\_stop(loop, &timer);
    ev\_loop\_destroy(loop);

    return 0;
}

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6cbcd6c17cec4dba9bb3c0f895f02fa2.png)


ä»¥ä¸Šã€‚





