







> 
> ğŸ˜*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ğŸ˜  
>  è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»Boostè¿›ç¨‹é—´é€šä¿¡åº“InterProcessé…ç½®ä½¿ç”¨ã€‚  
>  **æ— ä¸“ç²¾åˆ™ä¸èƒ½æˆï¼Œæ— æ¶‰çŒåˆ™ä¸èƒ½é€šã€‚â€”â€”æ¢å¯è¶…**  
>  æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚  
>  å–œæ¬¢çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œä¸‹æ¬¡æ›´æ–°ä¸è¿·è·¯ğŸ¥
> 
> 
> 




#### æ–‡ç« ç›®å½•


* + [:smirk:1. Boost.InterProcessä»‹ç»](#smirk1_BoostInterProcess_7)
	+ [:blush:2. ç¯å¢ƒé…ç½®](#blush2__25)
	+ [:satisfied:3. ä½¿ç”¨è¯´æ˜](#satisfied3__38)
	+ - [å…±äº«å†…å­˜è¯»å†™ç¤ºä¾‹](#_39)




### ğŸ˜1. Boost.InterProcessä»‹ç»


é¡¹ç›®Githubåœ°å€ï¼š`https://github.com/boostorg/interprocess`


å®˜ç½‘ï¼š`https://www.boost.org/doc/libs/1_83_0/doc/html/interprocess.html`


`Boost.InterProcess`æ˜¯Booståº“ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œæä¾›äº†ç”¨äºåœ¨C++ä¸­è¿›è¡Œè¿›ç¨‹é—´é€šä¿¡å’Œå…±äº«å†…å­˜æ“ä½œçš„åŠŸèƒ½ã€‚å®ƒæä¾›äº†ä¸€ç»„ç±»å’Œå‡½æ•°ï¼Œä½¿å¾—åœ¨ä¸åŒçš„è¿›ç¨‹ä¹‹é—´èƒ½å¤Ÿå®‰å…¨åœ°å…±äº«æ•°æ®å’ŒåŒæ­¥è®¿é—®ã€‚


`Boost.InterProcess`æä¾›äº†ä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š



> 
> 1.å…±äº«å†…å­˜æ®µï¼ˆShared Memory Segmentsï¼‰ï¼šBoost.Interprocesså…è®¸åˆ›å»ºå…·æœ‰å‘½åæˆ–åŒ¿åæ ‡è¯†ç¬¦çš„å…±äº«å†…å­˜æ®µã€‚å…±äº«å†…å­˜æ®µå¯ä»¥åœ¨ä¸åŒçš„è¿›ç¨‹ä¹‹é—´å…±äº«æ•°æ®ï¼Œè€Œä¸éœ€è¦è¿›è¡Œæ˜¾å¼çš„æ•°æ®æ‹·è´ã€‚é€šè¿‡å…±äº«å†…å­˜æ®µï¼Œè¿›ç¨‹å¯ä»¥ç›´æ¥è®¿é—®å’Œä¿®æ”¹å…±äº«çš„æ•°æ®ã€‚
> 
> 
> 



> 
> 2.äº’æ–¥é”å’Œæ¡ä»¶å˜é‡ï¼ˆMutexes and Condition Variablesï¼‰ï¼šä¸ºäº†é¿å…å¤šä¸ªè¿›ç¨‹åŒæ—¶è®¿é—®å…±äº«å†…å­˜æ—¶çš„æ•°æ®ç«äº‰å’Œå†²çªï¼ŒBoost.Interprocessæä¾›äº†äº’æ–¥é”å’Œæ¡ä»¶å˜é‡ã€‚äº’æ–¥é”ç”¨äºä¿æŠ¤å…±äº«æ•°æ®çš„äº’æ–¥è®¿é—®ï¼Œæ¡ä»¶å˜é‡ç”¨äºçº¿ç¨‹é—´çš„ç­‰å¾…å’Œé€šçŸ¥æœºåˆ¶ã€‚
> 
> 
> 



> 
> 3.å…±äº«å†…å­˜å®¹å™¨ï¼ˆShared Memory Containersï¼‰ï¼šBoost.Interprocessæä¾›äº†ä¸€äº›å®¹å™¨ç±»ï¼Œå¦‚vectorã€mapã€listç­‰ï¼Œè¿™äº›å®¹å™¨å¯ä»¥åœ¨å…±äº«å†…å­˜ä¸­å­˜å‚¨æ•°æ®ã€‚å…±äº«å†…å­˜å®¹å™¨æä¾›äº†ä¸STLå®¹å™¨ç›¸ä¼¼çš„æ¥å£å’ŒåŠŸèƒ½ï¼Œä½†å¯ä»¥ç”¨äºå¤šä¸ªè¿›ç¨‹ä¹‹é—´çš„æ•°æ®å…±äº«ã€‚
> 
> 
> 



> 
> 4.å…±äº«å†…å­˜åˆ†é…å™¨ï¼ˆShared Memory Allocatorsï¼‰ï¼šBoost.Interprocessæä¾›äº†å…±äº«å†…å­˜åˆ†é…å™¨ï¼Œå¯ä»¥åœ¨å…±äº«å†…å­˜ä¸­åŠ¨æ€åˆ†é…å’Œé‡Šæ”¾å†…å­˜ã€‚å…±äº«å†…å­˜åˆ†é…å™¨ç¡®ä¿åœ¨å…±äº«å†…å­˜ä¸­çš„å¯¹è±¡èƒ½å¤Ÿæ­£ç¡®åœ°åˆ†é…å’Œç®¡ç†å†…å­˜ï¼Œä»¥é¿å…å†…å­˜ç¢ç‰‡å’Œèµ„æºæ³„æ¼ã€‚
> 
> 
> 


`Boost.Interprocess`æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”çµæ´»çš„åº“ï¼Œå®ƒå…·æœ‰è·¨å¹³å°çš„ç‰¹æ€§ï¼Œå¯ä»¥åœ¨å„ç§æ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨ã€‚å®ƒæä¾›äº†ç®€å•è€Œä¸€è‡´çš„æ¥å£ï¼Œä½¿å¾—åœ¨C++ä¸­ä½¿ç”¨å…±äº«å†…å­˜å˜å¾—æ›´åŠ æ–¹ä¾¿å’Œå®‰å…¨ã€‚å¯ä»¥è½»æ¾åœ°å®ç°è¿›ç¨‹é—´é€šä¿¡å’Œæ•°æ®å…±äº«ï¼Œä»è€Œæ„å»ºé«˜æ•ˆçš„å¤šè¿›ç¨‹åº”ç”¨ç¨‹åºã€‚


### ğŸ˜Š2. ç¯å¢ƒé…ç½®


ä¸‹é¢è¿›è¡Œç¯å¢ƒé…ç½®ï¼š



```
# aptå®‰è£…
sudo apt install libboost-dev

```

ç¼–è¯‘ï¼š



```
g++ -o main main.cpp -lboost\_system -lrt && ./main # -lrtæ˜¯POSIXçš„RealTimeåº“

```

### ğŸ˜†3. ä½¿ç”¨è¯´æ˜


#### å…±äº«å†…å­˜è¯»å†™ç¤ºä¾‹



```
#include <boost/interprocess/shared\_memory\_object.hpp>
#include <boost/interprocess/mapped\_region.hpp>
#include <iostream>

using namespace boost::interprocess;

int main()
{
    // åˆ›å»ºæˆ–æ‰“å¼€å…±äº«å†…å­˜å¯¹è±¡
    shared_memory_object shm(open_or_create, "my\_shared\_memory", read_write);

    // è®¾ç½®å…±äº«å†…å­˜å¯¹è±¡çš„å¤§å°
    shm.truncate(1024);

    // æ˜ å°„å…±äº«å†…å­˜åˆ°å½“å‰è¿›ç¨‹çš„åœ°å€ç©ºé—´
    mapped_region region(shm, read_write);

    // è·å–å…±äº«å†…å­˜çš„é¦–åœ°å€
    void\* addr = region.get\_address();

    // å†™å…¥æ•°æ®åˆ°å…±äº«å†…å­˜
    const char\* str = "Hello, Boost.Interprocess!";
    std::strcpy(static\_cast<char\*>(addr), str);

    // ä»å…±äº«å†…å­˜è¯»å–æ•°æ®
    char buffer[1024];
    std::strcpy(buffer, static\_cast<char\*>(addr));

    // è¾“å‡ºè¯»å–åˆ°çš„æ•°æ®
    std::cout << "Message from shared memory: " << buffer << std::endl;

    // åˆ é™¤å…±äº«å†…å­˜å¯¹è±¡
    shared_memory_object::remove("my\_shared\_memory");

    return 0;
}

```

æ­¤å¤–ï¼Œè¿˜æœ‰æ‰˜ç®¡å…±äº«å†…å­˜åŒæ­¥ç­‰æ“ä½œï¼Œç”¨åˆ°å†å­¦ä¹ ã€‚


![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6cbcd6c17cec4dba9bb3c0f895f02fa2.png)


ä»¥ä¸Šã€‚





