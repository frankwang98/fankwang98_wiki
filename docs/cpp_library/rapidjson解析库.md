> ğŸ˜*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ğŸ˜  
>  è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»rapidjsonæ•°æ®è§£æåº“é…ç½®ä¸ä½¿ç”¨ã€‚  
>  **æ— ä¸“ç²¾åˆ™ä¸èƒ½æˆï¼Œæ— æ¶‰çŒåˆ™ä¸èƒ½é€šã€‚â€”â€”æ¢å¯è¶…**  
>  æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚  
>  å–œæ¬¢çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œä¸‹æ¬¡æ›´æ–°ä¸è¿·è·¯ğŸ¥

### ğŸ˜1. é¡¹ç›®ä»‹ç»

é¡¹ç›®Githubåœ°å€ï¼š`https://github.com/Tencent/rapidjson`

`RapidJSON` æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„ C++ JSON è§£æå™¨/ç”Ÿæˆå™¨ï¼Œå…·æœ‰é«˜æ•ˆçš„å†…å­˜åˆ©ç”¨å’Œä½å»¶è¿Ÿã€‚å®ƒæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ã€æ¨¡å—åŒ–çš„ã€åŠŸèƒ½é½å…¨çš„ JSON åº“ï¼Œå¹¿æ³›åº”ç”¨äº C++ ç¨‹åºä¸­ç”¨äºå¤„ç† JSON æ•°æ®ã€‚

RapidJSON çš„ç‰¹ç‚¹åŒ…æ‹¬ï¼š

> 1.å¿«é€Ÿé«˜æ•ˆï¼šRapidJSON é€šè¿‡æœ€å¤§ç¨‹åº¦åœ°ä¼˜åŒ–å†…å­˜ä½¿ç”¨å’Œè®¡ç®—æ•ˆç‡æ¥å®ç°å¿«é€Ÿçš„ JSON è§£æå’Œç”Ÿæˆï¼Œå®ƒåœ¨æ€§èƒ½ä¸Šè¡¨ç°å‡ºè‰²ã€‚

> 2.æ ‡å‡†å…¼å®¹ï¼šRapidJSON å®Œå…¨ç¬¦åˆ JSON æ ‡å‡†ï¼ˆRFC 8259ï¼‰ï¼Œå¯ä»¥å¤„ç†å„ç§åˆæ³•çš„ JSON æ•°æ®ã€‚

> 3.æ¨¡å—åŒ–è®¾è®¡ï¼šRapidJSON çš„è®¾è®¡éå¸¸æ¨¡å—åŒ–ï¼Œå…è®¸ç”¨æˆ·æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©æ€§åœ°ä½¿ç”¨ç‰¹å®šçš„åŠŸèƒ½æ¨¡å—ï¼Œä»è€Œå‡å°‘äº†åº“çš„å¤§å°å’Œä¾èµ–å…³ç³»ã€‚

> 4.å¯æ‰©å±•æ€§ï¼šRapidJSON æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰åˆ†é…å™¨æ¥ç®¡ç†å†…å­˜åˆ†é…ï¼Œä¹Ÿæ”¯æŒè‡ªå®šä¹‰è§£æé”™è¯¯å¤„ç†ç­–ç•¥ï¼Œä½¿å…¶åœ¨ä¸åŒçš„åº”ç”¨åœºæ™¯ä¸‹å…·æœ‰å¾ˆå¥½çš„çµæ´»æ€§ã€‚

> 5.è·¨å¹³å°ï¼šRapidJSON å¯ä»¥åœ¨å„ç§æ“ä½œç³»ç»Ÿå’Œç¼–è¯‘å™¨ä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬ Windowsã€Linuxã€macOS ç­‰ã€‚

`RapidJSON` æä¾›äº†ç®€å•æ˜“ç”¨çš„ APIï¼Œä½¿å¾—è§£æå’Œç”Ÿæˆ JSON æ•°æ®å˜å¾—éå¸¸ä¾¿æ·ã€‚é€šè¿‡ RapidJSONï¼Œä½ å¯ä»¥è½»æ¾åœ°åœ¨ C++ ç¨‹åºä¸­å¤„ç† JSON æ•°æ®ï¼ŒåŒ…æ‹¬è§£æ JSON å­—ç¬¦ä¸²å’Œæ„å»º JSON å¯¹è±¡ã€‚

### ğŸ˜Š2. ç¯å¢ƒé…ç½®

ä¸‹é¢è¿›è¡Œç¯å¢ƒé…ç½®ï¼š

```bash
# aptå®‰è£…
sudo apt install rapidjson-dev
# g++ç¼–è¯‘ä¸ç”¨åŠ  -l

```

### ğŸ˜†3. ä½¿ç”¨è¯´æ˜

ä¸‹é¢è¿›è¡Œä½¿ç”¨åˆ†æï¼š

#### è§£æjsonæ•°æ®ç¤ºä¾‹ï¼š

```cpp
#include <iostream>
#include "rapidjson/document.h"
#include "rapidjson/writer.h"
#include "rapidjson/stringbuffer.h"

int main() {
    const char\* json = R"(
    {
    "name": "John",
    "age": 30,
    "isStudent": true,
    "scores": [85, 90, 88]
    }
    )";

    rapidjson::Document document;
    document.Parse(json);

    if (document.IsObject()) {
        // æå–å­—ç¬¦ä¸²ç±»å‹æ•°æ®
        std::string name = document["name"].GetString();
        std::cout << "Name: " << name << std::endl;

        // æå–æ•´æ•°ç±»å‹æ•°æ®
        int age = document["age"].GetInt();
        std::cout << "Age: " << age << std::endl;

        // æå–å¸ƒå°”ç±»å‹æ•°æ®
        bool isStudent = document["isStudent"].GetBool();
        std::cout << "Is Student: " << (isStudent ? "true" : "false") << std::endl;

        // æå–æ•°ç»„ç±»å‹æ•°æ®
        const rapidjson::Value& scores = document["scores"];
        if (scores.IsArray()) {
            std::cout << "Scores: ";
            for (rapidjson::SizeType i = 0; i < scores.Size(); i++) {
                std::cout << scores[i].GetInt() << " ";
            }
            std::cout << std::endl;
        }
    }

    return 0;
}

```

#### å†™å…¥jsonæ•°æ®ç¤ºä¾‹ï¼š

```cpp
#include "rapidjson/document.h"
#include "rapidjson/writer.h"
#include "rapidjson/stringbuffer.h"
#include <iostream>

int main() {
    rapidjson::Document document;
    document.SetObject();

    // æ·»åŠ å­—ç¬¦ä¸²ç±»å‹æ•°æ®
    rapidjson::Value name;
    name.SetString("John", document.GetAllocator());
    document.AddMember("name", name, document.GetAllocator());

    // æ·»åŠ æ•´æ•°ç±»å‹æ•°æ®
    rapidjson::Value age;
    age.SetInt(30);
    document.AddMember("age", age, document.GetAllocator());

    // æ·»åŠ å¸ƒå°”ç±»å‹æ•°æ®
    rapidjson::Value isStudent;
    isStudent.SetBool(true);
    document.AddMember("isStudent", isStudent, document.GetAllocator());

    // æ·»åŠ æ•°ç»„ç±»å‹æ•°æ®
    rapidjson::Value scores(rapidjson::kArrayType);
    scores.PushBack(85, document.GetAllocator());
    scores.PushBack(90, document.GetAllocator());
    scores.PushBack(88, document.GetAllocator());
    document.AddMember("scores", scores, document.GetAllocator());

    // å°† Document å¯¹è±¡åºåˆ—åŒ–æˆ JSON å­—ç¬¦ä¸²
    rapidjson::StringBuffer buffer;
    rapidjson::Writer<rapidjson::StringBuffer> writer(buffer);
    document.Accept(writer);

    // è¾“å‡º JSON å­—ç¬¦ä¸²
    std::cout << buffer.GetString() << std::endl;

    return 0;
}

```

#### ä»æ–‡ä»¶ä¸­è§£æjson

```cpp
#include "rapidjson/document.h"
#include "rapidjson/filereadstream.h"
#include <cstdio>
#include <iostream>

int main() {
    // æ‰“å¼€ JSON æ–‡ä»¶
    FILE\* fp = fopen("data.json", "r");
    if (fp == nullptr) {
        std::cerr << "Failed to open input.json" << std::endl;
        return 1;
    }

    // è¯»å–æ–‡ä»¶å†…å®¹
    char readBuffer[65536];
    rapidjson::FileReadStream is(fp, readBuffer, sizeof(readBuffer));

    // åˆ›å»º RapidJSON è§£æå™¨
    rapidjson::Document document;
    document.ParseStream(is);

    // å…³é—­æ–‡ä»¶
    fclose(fp);

    // æ£€æŸ¥è§£ææ˜¯å¦æˆåŠŸ
    if (document.HasParseError()) {
        std::cerr << "JSON parse error: " << rapidjson::GetParseErrorFunc(document.GetParseError()) << std::endl;
        return 1;
    }

    // è®¿é—®å’Œå¤„ç† JSON æ•°æ®
    if (document.IsObject()) {
        const rapidjson::Value& name = document["name"];
        const rapidjson::Value& age = document["age"];
        const rapidjson::Value& isStudent = document["isStudent"];

        std::cout << "Name: " << name.GetString() << std::endl;
        std::cout << "Age: " << age.GetInt() << std::endl;
        std::cout << "Is Student: " << (isStudent.GetBool() ? "Yes" : "No") << std::endl;
    } else {
        std::cerr << "JSON is not an object" << std::endl;
        return 1;
    }

    return 0;
}

```

#### å°†jsonæ•°æ®å†™å…¥æ–‡ä»¶

```cpp
#include "rapidjson/document.h"
#include "rapidjson/writer.h"
#include "rapidjson/stringbuffer.h"
#include <iostream>
#include <fstream>

int main() {
    rapidjson::Document document;
    document.SetObject();

    // æ·»åŠ å­—ç¬¦ä¸²ç±»å‹æ•°æ®
    rapidjson::Value name;
    name.SetString("John", document.GetAllocator());
    document.AddMember("name", name, document.GetAllocator());

    // æ·»åŠ æ•´æ•°ç±»å‹æ•°æ®
    rapidjson::Value age;
    age.SetInt(30);
    document.AddMember("age", age, document.GetAllocator());

    // æ·»åŠ å¸ƒå°”ç±»å‹æ•°æ®
    rapidjson::Value isStudent;
    isStudent.SetBool(true);
    document.AddMember("isStudent", isStudent, document.GetAllocator());

    // å°† Document å¯¹è±¡åºåˆ—åŒ–æˆ JSON å­—ç¬¦ä¸²
    rapidjson::StringBuffer buffer;
    rapidjson::Writer<rapidjson::StringBuffer> writer(buffer);
    document.Accept(writer);

    // å°† JSON å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶
    std::ofstream outputFile("output.json");
    if (outputFile.is\_open()) {
        outputFile << buffer.GetString();
        outputFile.close();
        std::cout << "JSON data has been written to output.json" << std::endl;
    } else {
        std::cerr << "Failed to open output.json for writing" << std::endl;
    }

    return 0;
}

```

ä»¥ä¸Šã€‚





