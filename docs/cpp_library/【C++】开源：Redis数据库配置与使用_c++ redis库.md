







> 
> ğŸ˜*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ğŸ˜  
>  è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»Redisæ•°æ®åº“é…ç½®ä¸ä½¿ç”¨ã€‚  
>  **æ— ä¸“ç²¾åˆ™ä¸èƒ½æˆï¼Œæ— æ¶‰çŒåˆ™ä¸èƒ½é€šã€‚ã€‚â€”â€”æ¢å¯è¶…**  
>  æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚  
>  å–œæ¬¢çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œä¸‹æ¬¡æ›´æ–°ä¸è¿·è·¯ğŸ¥
> 
> 
> 




#### æ–‡ç« ç›®å½•


* + [:smirk:1. é¡¹ç›®ä»‹ç»](#smirk1__7)
	+ [:blush:2. ç¯å¢ƒé…ç½®](#blush2__29)
	+ [:satisfied:3. ä½¿ç”¨è¯´æ˜](#satisfied3__51)




### ğŸ˜1. é¡¹ç›®ä»‹ç»


é¡¹ç›®Githubåœ°å€ï¼š`https://github.com/redis/redis`


Redisï¼ˆRemote Dictionary Serverï¼‰æ˜¯ä¸€æ¬¾å¼€æºçš„å†…å­˜æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒæä¾›äº†ä¸€ä¸ªé”®å€¼å¯¹å­˜å‚¨æ¨¡å‹ï¼Œå…¶ä¸­çš„é”®å¯ä»¥åŒ…æ‹¬`å­—ç¬¦ä¸²ã€å“ˆå¸Œã€åˆ—è¡¨ã€é›†åˆå’Œæœ‰åºé›†åˆ`ç­‰æ•°æ®ç±»å‹ã€‚å®ƒæ”¯æŒæŒä¹…åŒ–ã€ä¸»ä»å¤åˆ¶ã€é›†ç¾¤å’Œäº‹åŠ¡ç­‰åŠŸèƒ½ã€‚


ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®ç‰¹æ€§å’Œç”¨é€”ï¼š



> 
> 1.é«˜æ€§èƒ½ï¼šRediså°†æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤å¯ä»¥å®ç°éå¸¸é«˜çš„è¯»å†™æ€§èƒ½ã€‚å®ƒä½¿ç”¨å•çº¿ç¨‹æ¨¡å‹å’Œå¼‚æ­¥I/Oæ“ä½œæ¥å®ç°é«˜æ•ˆçš„å¤„ç†è¯·æ±‚ã€‚
> 
> 
> 



> 
> 2.ä¸°å¯Œçš„æ•°æ®ç»“æ„ï¼šRedisä¸ä»…ä»…æ”¯æŒç®€å•çš„å­—ç¬¦ä¸²é”®å€¼å¯¹å­˜å‚¨ï¼Œè¿˜æä¾›äº†å„ç§æ•°æ®ç»“æ„ï¼Œå¦‚å“ˆå¸Œè¡¨ï¼ˆhashesï¼‰ã€åˆ—è¡¨ï¼ˆlistsï¼‰ã€é›†åˆï¼ˆsetsï¼‰å’Œæœ‰åºé›†åˆï¼ˆsorted setsï¼‰ã€‚è¿™ä½¿å¾—Rediséå¸¸é€‚åˆäºåœ¨å†…å­˜ä¸­å¤„ç†å„ç§ç±»å‹çš„æ•°æ®ã€‚
> 
> 
> 



> 
> 3.æŒä¹…åŒ–ï¼šRedisæä¾›äº†ä¸¤ç§æ–¹å¼çš„æŒä¹…åŒ–æœºåˆ¶ï¼Œå³RDBï¼ˆRedisæ•°æ®åº“æ–‡ä»¶ï¼‰å’ŒAOFï¼ˆAppend-only Fileï¼‰ã€‚RDBé€šè¿‡å°†æ•°æ®é›†å¿«ç…§å†™å…¥ç£ç›˜ï¼Œä»¥ä¾¿åœ¨é‡æ–°å¯åŠ¨æ—¶é‡æ–°åŠ è½½æ•°æ®ã€‚è€ŒAOFåˆ™é€šè¿‡è®°å½•æ‰€æœ‰å†™æ“ä½œæ¥å®ç°æŒä¹…åŒ–ã€‚
> 
> 
> 



> 
> 4.ä¸»ä»å¤åˆ¶ï¼šRedisæ”¯æŒä¸»ä»å¤åˆ¶ï¼Œå¯ä»¥å°†ä¸€ä¸ªRediså®ä¾‹é…ç½®ä¸ºä¸»æœåŠ¡å™¨ï¼Œè€Œå…¶ä»–å®ä¾‹ä½œä¸ºä»æœåŠ¡å™¨ã€‚ä¸»æœåŠ¡å™¨ä¸Šçš„å†™æ“ä½œä¼šè¢«è‡ªåŠ¨åœ°å¤åˆ¶åˆ°æ‰€æœ‰ä»æœåŠ¡å™¨ä¸Šï¼Œä»è€Œå®ç°æ•°æ®çš„å†—ä½™å¤‡ä»½å’Œè´Ÿè½½å‡è¡¡ã€‚
> 
> 
> 



> 
> 5.å‘å¸ƒä¸è®¢é˜…ï¼šRedisæ”¯æŒå‘å¸ƒä¸è®¢é˜…æ¨¡å¼ï¼Œå…è®¸å®¢æˆ·ç«¯è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªé¢‘é“ï¼Œä»¥æ¥æ”¶ç‰¹å®šç±»å‹çš„æ¶ˆæ¯ã€‚è¿™ä½¿å¾—Rediséå¸¸é€‚åˆäºæ„å»ºå®æ—¶åº”ç”¨ç¨‹åºã€æ¶ˆæ¯é˜Ÿåˆ—å’ŒèŠå¤©ç³»ç»Ÿç­‰ã€‚
> 
> 
> 



> 
> 6.äº‹åŠ¡æ”¯æŒï¼šRedisæ”¯æŒäº‹åŠ¡æ“ä½œï¼Œå¯ä»¥å°†å¤šä¸ªå‘½ä»¤æ‰“åŒ…æˆä¸€ä¸ªäº‹åŠ¡è¿›è¡Œæ‰§è¡Œã€‚é€šè¿‡MULTIã€EXECã€DISCARDå’ŒWATCHç­‰å‘½ä»¤ï¼Œå¯ä»¥å®ç°åŸå­æ€§çš„æäº¤æˆ–å›æ»šå¤šä¸ªå‘½ä»¤ã€‚
> 
> 
> 



> 
> 7.ç¼“å­˜ï¼šç”±äºRedisçš„å¿«é€Ÿè¯»å†™èƒ½åŠ›å’Œä¸°å¯Œçš„æ•°æ®ç»“æ„ï¼Œå®ƒç»å¸¸è¢«ç”¨ä½œç¼“å­˜å±‚ã€‚å°†ç»å¸¸è®¿é—®çš„æ•°æ®å­˜å‚¨åœ¨Redisä¸­ï¼Œå¯ä»¥æå¤§åœ°æå‡åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå“åº”æ—¶é—´ã€‚
> 
> 
> 


æ€»ä¹‹ï¼ŒRedisæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§ä¸”çµæ´»çš„å†…å­˜æ•°æ®å­˜å‚¨ç³»ç»Ÿï¼Œé€‚ç”¨äºå¤„ç†é«˜é€Ÿè¯»å†™å’Œå®æ—¶æ•°æ®å¤„ç†çš„åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ç¼“å­˜ã€ä¼šè¯å­˜å‚¨ã€è®¡æ•°å™¨ã€æ’è¡Œæ¦œå’Œæ¶ˆæ¯é˜Ÿåˆ—ç­‰ã€‚


### ğŸ˜Š2. ç¯å¢ƒé…ç½®


ä¸‹é¢è¿›è¡Œå®‰è£…è¿è¡Œï¼š



```
# ubuntuå®‰è£…
sudo apt install redis-server
# æ£€æŸ¥è¿è¡ŒçŠ¶æ€
sudo systemctl status redis-server
# æµ‹è¯•æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸
redis-cli ping ï¼ˆå¯ä»¥é€šè¿‡redis-cliè¿›å…¥å®¢æˆ·ç«¯ï¼‰
# é…ç½®è¿œç¨‹è¿æ¥
sudo gedit /etc/redis/redis.conf
å°† bind 127.0.0.1 ::1 æ”¹ä¸º bind 0.0.0.0
# è®¾ç½®å¯†ç 
æ‰¾åˆ°# requirepass foobared æ”¹ä¸º requirepass è‡ªå·±çš„å¯†ç 
sudo systemctl redis-server restart

```

æœåŠ¡ç«¯é…ç½®å®Œæˆåï¼Œå¯ä»¥å®‰è£…å›¾å½¢åŒ–å·¥å…·`Redis desktop manager`ä¾¿äºç®¡ç†ã€‚


å¯é€šè¿‡sshè¿œç¨‹è¿æ¥åˆ°è¿œç«¯çš„redisæ•°æ®åº“ã€‚


![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/ac15f3ca27604ea6baff990ddb8ad445.png)


### ğŸ˜†3. ä½¿ç”¨è¯´æ˜


é¦–å…ˆå®‰è£…redis c++ä¾èµ–ï¼š`sudo apt-get install libhiredis-dev`


ä¸‹é¢æ˜¯ä¸€ä¸ªæ•°æ®åº“æ“ä½œç¤ºä¾‹ï¼š



```
#include <iostream>
#include <hiredis/hiredis.h>

int main()
{
    // è¿æ¥ Redis æœåŠ¡å™¨
    redisContext \*redis = redisConnect("127.0.0.1", 6379);

    // æ£€æŸ¥è¿æ¥æ˜¯å¦æˆåŠŸ
    if (redis == NULL || redis->err)
    {
        std::cout << "æ— æ³•è¿æ¥åˆ° Redis æœåŠ¡å™¨ï¼š" << redis->errstr << std::endl;
        return 1;
    }

    // æ‰§è¡Œ AUTH å‘½ä»¤ï¼Œæä¾›å¯†ç 
    redisReply \*reply = (redisReply \*)redisCommand(redis, "AUTH password");

    // æ£€æŸ¥è®¤è¯æ˜¯å¦æˆåŠŸ
    if (reply == NULL || reply->type == REDIS_REPLY_ERROR)
    {
        std::cout << "Redis è®¤è¯å¤±è´¥ï¼š" << reply->str << std::endl;
        freeReplyObject(reply);
        redisFree(redis);
        return 1;
    }

    std::cout << "Redis è®¤è¯æˆåŠŸï¼" << std::endl;
    freeReplyObject(reply);

    // æ‰§è¡Œ SET å‘½ä»¤
    reply = (redisReply \*)redisCommand(redis, "SET key1 value1");
    std::cout << "SET å‘½ä»¤æ‰§è¡Œç»“æœï¼š" << reply->str << std::endl;
    freeReplyObject(reply);

    // æ‰§è¡Œ GET å‘½ä»¤
    reply = (redisReply \*)redisCommand(redis, "GET key1");
    std::cout << "GET å‘½ä»¤æ‰§è¡Œç»“æœï¼š" << reply->str << std::endl;
    freeReplyObject(reply);

    // å…³é—­è¿æ¥
    redisFree(redis);

    return 0;
}

```

ç¼–è¯‘è¿è¡Œï¼š



```
g++ main.cpp -o redis_example -lhiredis
Redis è®¤è¯æˆåŠŸï¼
SET å‘½ä»¤æ‰§è¡Œç»“æœï¼šOK
GET å‘½ä»¤æ‰§è¡Œç»“æœï¼švalue1

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6cbcd6c17cec4dba9bb3c0f895f02fa2.png)


ä»¥ä¸Šã€‚





