







> 
> ğŸ˜*â˜…,Â°*:.â˜†(ï¿£â–½ï¿£)/$:*.Â°â˜…* ğŸ˜  
>  è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»glogæ—¥å¿—åº“é…ç½®ä½¿ç”¨ã€‚  
>  **æ— ä¸“ç²¾åˆ™ä¸èƒ½æˆï¼Œæ— æ¶‰çŒåˆ™ä¸èƒ½é€šã€‚â€”â€”æ¢å¯è¶…**  
>  æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚  
>  å–œæ¬¢çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œä¸‹æ¬¡æ›´æ–°ä¸è¿·è·¯ğŸ¥
> 
> 
> 




#### æ–‡ç« ç›®å½•


* + [:smirk:1. é¡¹ç›®ä»‹ç»](#smirk1__7)
	+ [:blush:2. ç¯å¢ƒé…ç½®](#blush2__31)
	+ [:satisfied:3. ä½¿ç”¨è¯´æ˜](#satisfied3__50)




### ğŸ˜1. é¡¹ç›®ä»‹ç»


é¡¹ç›®Githubåœ°å€ï¼š`https://github.com/google/glog`


glogï¼ˆGoogle Logging Libraryï¼‰æ˜¯ç”± Google å¼€å‘çš„ C++ æ—¥å¿—åº“ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç®€å•æ˜“ç”¨çš„æ¥å£ï¼Œç”¨äºåœ¨åº”ç”¨ç¨‹åºä¸­è®°å½•æ—¥å¿—æ¶ˆæ¯ã€‚glog è¢«è®¾è®¡ä¸ºé«˜æ•ˆã€å¯é å’Œçº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥å¹¿æ³›åº”ç”¨äºå„ç§ C++ é¡¹ç›®ä¸­ã€‚


ä¸‹é¢æ˜¯ glog çš„ä¸€äº›ä¸»è¦ç‰¹ç‚¹å’Œä¼˜åŠ¿ï¼š



> 
> 1.ç®€å•æ˜“ç”¨çš„æ¥å£ï¼šglog æä¾›äº†ç®€æ´æ˜äº†çš„ APIï¼Œä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥è½»æ¾åœ°åœ¨åº”ç”¨ç¨‹åºä¸­è®°å½•æ—¥å¿—æ¶ˆæ¯ã€‚é€šè¿‡ä½¿ç”¨ LOG(INFO)ã€LOG(ERROR) ç­‰å®ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¾“å‡ºä¸åŒçº§åˆ«çš„æ—¥å¿—ä¿¡æ¯ã€‚
> 
> 
> 



> 
> 2.å¤šçº§åˆ«æ—¥å¿—ï¼šglog æ”¯æŒä¸åŒçº§åˆ«çš„æ—¥å¿—è®°å½•ï¼ŒåŒ…æ‹¬ INFOã€WARNINGã€ERRORã€FATAL ç­‰ã€‚é€šè¿‡é…ç½®æ—¥å¿—çº§åˆ«ï¼Œå¯ä»¥æ§åˆ¶è®°å½•å“ªäº›çº§åˆ«åŠä»¥ä¸Šçš„æ—¥å¿—æ¶ˆæ¯ã€‚
> 
> 
> 



> 
> 3.æ—¥å¿—æ ¼å¼åŒ–ï¼šglog å…è®¸å¼€å‘äººå‘˜è‡ªå®šä¹‰æ—¥å¿—æ¶ˆæ¯çš„æ ¼å¼ã€‚å®ƒæ”¯æŒç±»ä¼¼äº printf çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œå¯ä»¥æ·»åŠ å˜é‡ã€æ—¶é—´æˆ³ç­‰ä¿¡æ¯åˆ°æ—¥å¿—æ¶ˆæ¯ä¸­ã€‚
> 
> 
> 



> 
> 4.å®Œæ•´çš„è°ƒç”¨æ ˆï¼šglog å¯ä»¥è®°å½•å®Œæ•´çš„è°ƒç”¨æ ˆä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–‡ä»¶åã€è¡Œå·å’Œå‡½æ•°åã€‚è¿™å¯¹äºå®šä½å’Œè°ƒè¯•é—®é¢˜éå¸¸æœ‰å¸®åŠ©ã€‚
> 
> 
> 



> 
> 5.åå°çº¿ç¨‹å†™å…¥ï¼šglog ä½¿ç”¨åå°çº¿ç¨‹å¼‚æ­¥å†™å…¥æ—¥å¿—æ–‡ä»¶ï¼Œé¿å…äº†é¢‘ç¹çš„ç£ç›˜ I/O æ“ä½œå¯¹åº”ç”¨ç¨‹åºæ€§èƒ½çš„å½±å“ã€‚
> 
> 
> 



> 
> 6.æ—¥å¿—æ–‡ä»¶åˆ†å‰²ï¼šglog å…·æœ‰è‡ªåŠ¨åˆ†å‰²æ—¥å¿—æ–‡ä»¶çš„åŠŸèƒ½ï¼Œå¯ä»¥æŒ‰ç…§æ—¶é—´æˆ–å¤§å°è¿›è¡Œæ—¥å¿—æ–‡ä»¶çš„åˆ‡æ¢å’Œè½®è½¬ï¼Œé¿å…äº†æ—¥å¿—æ–‡ä»¶è¿‡å¤§çš„é—®é¢˜ã€‚
> 
> 
> 



> 
> 7.çº¿ç¨‹å®‰å…¨ï¼šglog è¢«è®¾è®¡ä¸ºçº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œè€Œä¸ä¼šäº§ç”Ÿç«äº‰æ¡ä»¶æˆ–æ­»é”ã€‚çº¿ç¨‹å®‰å…¨æ˜¯é€šè¿‡å†…éƒ¨ä½¿ç”¨äº’æ–¥é”ï¼ˆmutexï¼‰æ¥å®ç°çš„ã€‚
> 
> 
> 



> 
> 8.æ”¯æŒæ—¥å¿—çº§åˆ«è¿‡æ»¤ï¼šglog æ”¯æŒæ ¹æ®æ—¥å¿—çº§åˆ«è®¾ç½®è¿‡æ»¤è§„åˆ™ï¼Œå¯ä»¥æ§åˆ¶è¾“å‡ºå“ªäº›çº§åˆ«çš„æ—¥å¿—æ¶ˆæ¯åˆ°ç»ˆç«¯æˆ–æ–‡ä»¶ã€‚
> 
> 
> 


glog æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨ã€é«˜æ•ˆå¯é çš„ C++ æ—¥å¿—åº“ã€‚å®ƒå…·æœ‰å¤šçº§åˆ«æ—¥å¿—è®°å½•ã€æ ¼å¼åŒ–ã€å®Œæ•´è°ƒç”¨æ ˆã€åå°çº¿ç¨‹å†™å…¥ã€æ—¥å¿—æ–‡ä»¶åˆ†å‰²ç­‰åŠŸèƒ½ã€‚


### ğŸ˜Š2. ç¯å¢ƒé…ç½®


ä¸‹é¢è¿›è¡Œç¯å¢ƒé…ç½®ï¼š



```
# aptå®‰è£…
sudo apt install libgoogle-glog-dev

# æºç å®‰è£…
git clone https://github.com/google/glog.git
cd glog
mkdir build && cd build
cmake ..
make && sudo make install

```

ç¼–è¯‘è¿è¡Œï¼š



```
g++ -o main main.cpp -lglog && ./main

```

### ğŸ˜†3. ä½¿ç”¨è¯´æ˜


ä¸‹é¢è¿›è¡Œä½¿ç”¨åˆ†æï¼š


glogåŸºæœ¬ä½¿ç”¨ç¤ºä¾‹ï¼š



```
#include <glog/logging.h>

int main(int argc, char \*argv[])
{
    // åˆå§‹åŒ– Google Logging Library , argv[0] æ˜¯å½“å‰ç¨‹åºçš„åç§°
    google::InitGoogleLogging(argv[0]);

    // è®¾ç½®æ—¥å¿—è¾“å‡ºç›®å½•
    FLAGS_log_dir = "./logs";

    // æ ‡å‡†é”™è¯¯è¾“å‡º
    FLAGS_logtostderr = true;

    // è®¾ç½®æ—¥å¿—çº§åˆ«ï¼ŒINFO çº§åˆ«åŠä»¥ä¸Šçš„æ—¥å¿—ä¼šè¢«è¾“å‡º
    FLAGS_minloglevel = google::INFO;

    // ä½¿ç”¨å®è¾“å‡ºä¸åŒçº§åˆ«çš„æ—¥å¿—
    LOG(INFO) << "This is an INFO level log.";
    LOG(WARNING) << "This is a WARNING level log.";
    LOG(ERROR) << "This is an ERROR level log.";
    // LOG(FATAL) << "This is a FATAL level log."; // ä¼šä½¿ç¨‹åºabort

    return 0;
}
// result:
// I0811 11:25:20.819756 24411 main.cpp:18] This is an INFO level log.
// W0811 11:25:20.819849 24411 main.cpp:19] This is a WARNING level log.
// E0811 11:25:20.819866 24411 main.cpp:20] This is an ERROR level log.

```

glogå°†æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶ç¤ºä¾‹ï¼š



```
#include <glog/logging.h>

void SetupLogging(const std::string& logDir)
{
    // è®¾ç½®æ—¥å¿—è¾“å‡ºç›®å½•
    FLAGS_log_dir = logDir;
    // google::SetLogDestination(google::INFO, "./logs/my\_log\_");

    // è®¾ç½®æ—¥å¿—çº§åˆ«
    FLAGS_stderrthreshold = google::INFO;

    // è®¾ç½®æ—¥å¿—æ–‡ä»¶å¤§å°ä¸º10MB
    FLAGS_max_log_size = 10 \* 1024;  // 10MB

    // ç¦ç”¨æ—¥å¿—æ–‡ä»¶åä¸­çš„æœºå™¨ååç¼€
    FLAGS_alsologtostderr = true;
    FLAGS_logtostderr = false;

    // è‡ªåŠ¨ç§»é™¤æ—§æ—¥å¿— day ï¼ˆaptæ—§ç‰ˆæœ¬æ²¡æœ‰ï¼‰
    // google::EnableLogCleaner(3);
}

void logCondition()
{
    for (int i = 0; i < 10; ++i)
    {
        // æ¡ä»¶æ—¥å¿—
        LOG\_IF(INFO, i > 5) << "Got lots of cookies" << i;
        LOG\_EVERY\_N(INFO, 10) << "Got the " << google::COUNTER << "th cookie";
    }
}

int main(int argc, char \*argv[])
{
    // è®¾ç½®æ—¥å¿—ç›®å½•
    std::string logDir = "./logs";

    // åˆå§‹åŒ–æ—¥å¿—
    SetupLogging(logDir);

    // åˆå§‹åŒ– Glog
    google::InitGoogleLogging(argv[0]);

    // ç¤ºä¾‹è¾“å‡ºä¸åŒçº§åˆ«çš„æ—¥å¿—
    LOG(INFO) << "This is an informational message.";
    LOG(WARNING) << "This is a warning message.";
    LOG(ERROR) << "This is an error message.";
    // LOG(FATAL) << "This is a fatal error message.";

    logCondition();

    return 0;
}

```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6cbcd6c17cec4dba9bb3c0f895f02fa2.png)


ä»¥ä¸Šã€‚





